<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>サイトのPWA化、ホスティングをGithub PagesからFirebaseへ移行 - Shunya UETA</title><meta name="viewport" content="width=device-width, initial-scale=1">
	<meta property="og:title" content="サイトのPWA化、ホスティングをGithub PagesからFirebaseへ移行" />
<meta property="og:description" content="PWAとFireBaseを試してみたかった firebase init で現れる画面、テンション上がる Github Pages &#43; CloudFlareで独自ドメインの shunyaueta.com をホスティングしてた" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://shunyaueta.com/posts/2018-01-09_%E3%82%B5%E3%82%A4%E3%83%88%E3%81%AEpwa%E5%8C%96%E3%83%9B%E3%82%B9%E3%83%86%E3%82%A3%E3%83%B3%E3%82%B0%E3%82%92github-pages%E3%81%8B%E3%82%89firebase%E3%81%B8%E7%A7%BB%E8%A1%8C/" />

<meta property="og:image" content="https://shunyaueta.com/posts/2018-01-09_%E3%82%B5%E3%82%A4%E3%83%88%E3%81%AEpwa%E5%8C%96%E3%83%9B%E3%82%B9%E3%83%86%E3%82%A3%E3%83%B3%E3%82%B0%E3%82%92github-pages%E3%81%8B%E3%82%89firebase%E3%81%B8%E7%A7%BB%E8%A1%8C/images/1.png" />

<meta property="og:image" content="https://shunyaueta.com/posts/2018-01-09_%E3%82%B5%E3%82%A4%E3%83%88%E3%81%AEpwa%E5%8C%96%E3%83%9B%E3%82%B9%E3%83%86%E3%82%A3%E3%83%B3%E3%82%B0%E3%82%92github-pages%E3%81%8B%E3%82%89firebase%E3%81%B8%E7%A7%BB%E8%A1%8C/images/2.png" />

<meta property="og:image" content="https://shunyaueta.com/posts/2018-01-09_%E3%82%B5%E3%82%A4%E3%83%88%E3%81%AEpwa%E5%8C%96%E3%83%9B%E3%82%B9%E3%83%86%E3%82%A3%E3%83%B3%E3%82%B0%E3%82%92github-pages%E3%81%8B%E3%82%89firebase%E3%81%B8%E7%A7%BB%E8%A1%8C/images/3.png" />

<meta property="og:image" content="https://shunyaueta.com/posts/2018-01-09_%E3%82%B5%E3%82%A4%E3%83%88%E3%81%AEpwa%E5%8C%96%E3%83%9B%E3%82%B9%E3%83%86%E3%82%A3%E3%83%B3%E3%82%B0%E3%82%92github-pages%E3%81%8B%E3%82%89firebase%E3%81%B8%E7%A7%BB%E8%A1%8C/images/4.png" />

<meta property="og:image" content="https://shunyaueta.com/posts/2018-01-09_%E3%82%B5%E3%82%A4%E3%83%88%E3%81%AEpwa%E5%8C%96%E3%83%9B%E3%82%B9%E3%83%86%E3%82%A3%E3%83%B3%E3%82%B0%E3%82%92github-pages%E3%81%8B%E3%82%89firebase%E3%81%B8%E7%A7%BB%E8%A1%8C/images/5.png" />
<meta property="article:published_time" content="2018-01-09T18:59:59+00:00" />
<meta property="article:modified_time" content="2019-06-16T18:17:31+09:00" />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://shunyaueta.com/posts/2018-01-09_%E3%82%B5%E3%82%A4%E3%83%88%E3%81%AEpwa%E5%8C%96%E3%83%9B%E3%82%B9%E3%83%86%E3%82%A3%E3%83%B3%E3%82%B0%E3%82%92github-pages%E3%81%8B%E3%82%89firebase%E3%81%B8%E7%A7%BB%E8%A1%8C/images/1.png"/>

<meta name="twitter:title" content="サイトのPWA化、ホスティングをGithub PagesからFirebaseへ移行"/>
<meta name="twitter:description" content="PWAとFireBaseを試してみたかった firebase init で現れる画面、テンション上がる Github Pages &#43; CloudFlareで独自ドメインの shunyaueta.com をホスティングしてた"/>
<link href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,300italic,400italic|Raleway:500,100,300" rel="stylesheet">

	<link rel="stylesheet" type="text/css" media="screen" href="/css/normalize.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="/css/main.css" /><script src="/js/feather.min.js"></script><script src="/js/main.js"></script>
</head>

<body>
	<div class="container wrapper post">
		<div class="header">
	<h1 class="site-title">Shunya UETA</h1>
	<div class="site-description"><h2>Software Engineer As Data Scientist</h2><nav class="nav social">
			<ul class="flat"><a href="https://www.linkedin.com/in/hurutoriya/" title="Linkedin"><i data-feather="linkedin"></i></a><a href="https://github.com/hurutoriya" title="Github"><i data-feather="github"></i></a><a href="https://twitter.com/hurutoriya" title="Twitter"><i data-feather="twitter"></i></a><a href="/index.xml" title="RSS"><i data-feather="rss"></i></a></ul>
		</nav>
	</div>

	<nav class="nav">
		<ul class="flat">
			
			<li>
				<a href="/">Home</a>
			</li>
			
			<li>
				<a href="/posts">All posts</a>
			</li>
			
			<li>
				<a href="/about">About</a>
			</li>
			
			<li>
				<a href="/tags">Tags</a>
			</li>
			
		</ul>
	</nav>
</div>


		<div class="post-header">
			<h1 class="title">サイトのPWA化、ホスティングをGithub PagesからFirebaseへ移行</h1>
			<div class="meta">Posted at &mdash; Jan 9, 2018</div>
		</div>

		<div class="markdown">
			

<p>PWAとFireBaseを試してみたかった</p>

<p><img src="/posts/2018-01-09_サイトのpwa化ホスティングをgithub-pagesからfirebaseへ移行/images/1.png" alt="image" /></p>

<p>firebase init で現れる画面、テンション上がる</p>

<p>Github Pages + CloudFlareで独自ドメインの <a href="https://shunyaueta.com/">shunyaueta.com</a> をホスティングしてたんですが、Firebaseでホスティングできると聞いてFirebaseに移行しました。</p>

<p>PWAにしたのは完全に趣味です。</p>

<h3 id="tl-dr">TL;DR;</h3>

<ul>
<li>Web Appを作ってる人はmanifest.jsonを設置するだけでもAndroidの使用感が改善されそう</li>
<li>独自ドメインでお手軽にSSLホスティングしたいならFirebase hostingめっちゃおすすめです(1GBのホスティングは無料)</li>
<li>FireBase HostingだけだとFirebase本来の旨味は味わえません</li>
</ul>

<h3 id="pwa">PWA</h3>

<p>1年前ですが、簡潔にPWAの事が書かれています</p>

<p><a href="https://html5experts.jp/agektmr/20527/">プログレッシブウェブアプリ詳解 ─ 過去・現在・未来</a></p>

<p><img src="/posts/2018-01-09_サイトのpwa化ホスティングをgithub-pagesからfirebaseへ移行/images/2.png" alt="image" /></p>

<p><img src="/posts/2018-01-09_サイトのpwa化ホスティングをgithub-pagesからfirebaseへ移行/images/3.png" alt="image" /></p>

<p>左: PWA化以前 右: PWA化以降</p>

<p>ServiceWorkerとmanifest.json,あとは&lt;meta name=”theme-color”&gt;を指定するとPWAのスコアが100点になる 🎉</p>

<p><img src="/posts/2018-01-09_サイトのpwa化ホスティングをgithub-pagesからfirebaseへ移行/images/4.png" alt="image" /></p>

<p>manihest.jsonによるホームアイコン作成誘導</p>

<p>Faviconの各画像の生成は下記のサイトが便利でした。要求される解像度毎の画像(Favicon,Home icon, Apple home icon)が生成されてmahifest.jsonも同梱されます。(画像の圧縮率も選べる)</p>

<p><a href="https://realfavicongenerator.net/">Favicon Generator for all platforms: iOS, Android, PC/Mac&hellip;</a></p>

<p>後は、</p>

<p><a href="https://medium.com/dev-channel/learn-how-to-build-a-pwa-in-under-5-minutes-c860ad406ed">Learn how to build a PWA in 5 minutes</a></p>

<p>を参考に最小実装で実現しました。(Web通知は無意味だから止めました)</p>

<p>CSSはSkeltonを採用しました。(css only実装でjsがなくてシンプルで良い)</p>

<p><a href="https://github.com/dhg/Skeleton">dhg/Skeleton</a></p>

<p><strong>Web Appやってる人は、実装コスト1時間程度で済むので皆 manifest.jsonを設置するべき!!!</strong></p>

<blockquote>
<p>[](<a href="https://twitter.com/agektmr/status/894753854373351424">https://twitter.com/agektmr/status/894753854373351424</a>)
kitamuraさんの受け売りです</p>
</blockquote>

<p>Web App Manifestについては下記の記事が分かりやすいです。</p>

<p><a href="https://qiita.com/horo/items/ff665e4a6613e7684f8f">Web App ManifestでWebアプリをインストール可能に - Qiita</a></p>

<p>というか皆Chromeの中の人の記事だった(どうりで詳しいわけですね…)</p>

<h3 id="ホスティング">ホスティング</h3>

<p>Github Pages+CloudFlare(独自ドメイン運用)でSSL認証されたWeb Pageのホスティングを実現していました。</p>

<p>FireBaseでは、<a href="https://firebase.google.com/docs/hosting/">FireBase Hosting</a>を使うことで独自ドメインでもデフォルトでhttpsでWebサイトがホスティングされます(最高)</p>

<p><img src="/posts/2018-01-09_サイトのpwa化ホスティングをgithub-pagesからfirebaseへ移行/images/5.png" alt="image" /></p>

<p>やり方は以下を参考</p>

<p><a href="https://firebase.google.com/docs/hosting/deploying">Deploy Your Site | Firebase</a></p>

<p>めっちゃ簡単にデブロイできます…!!</p>

<h4 id="成果物">成果物</h4>

<p><a href="https://shunyaueta.com/">Shunya Ueta | Engineer</a></p>

<h4 id="所感">所感</h4>

<p>今回は静的かつ小規模なWebサイトをPWA化したので、恩恵殆ど無いですがまともなWebAppだと恩恵めっちゃ受けると思います。(Twitter Liteや日経電子版のwebサイトなど)</p>

<p><a href="https://blog.twitter.com/engineering/en_us/topics/open-source/2017/how-we-built-twitter-lite.html">How we built Twitter Lite</a></p>

<p><a href="https://qiita.com/edwardkenfox/items/4c0b9550ffa48c1f0445">いまさら聞けないPWAとAMP - Qiita</a></p>

		</div><div id="disqus_thread"></div>
<script type="text/javascript">
	(function () {
		
		
		if (window.location.hostname == "localhost")
			return;

		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		var disqus_shortname = 'hurutoriya';
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
		Disqus.</a></noscript>
<a href="http://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>
	<div class="footer wrapper">
	<nav class="nav">
		<div><a href="https://github.com/vividvilla/ezhil">Ezhil theme</a> | Built with <a href="gohugo.io">Hugo</a></div>
	</nav>
</div>

</body>
</html>
