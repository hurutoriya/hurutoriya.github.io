<!doctype html><html lang=ja prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#"><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=description content><meta name=HandheldFriendly content="True"><meta name=MobileOptimized content="320"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=keywords content="Python,
Jupyter,"><meta property="og:type" content="article"><meta property="og:description" content><meta property="og:title" content="JupyterNotebookをリモートサーバー上で公開して、どこでも研究開発 & 講義でJupyterhubを利用する"><meta property="og:site_name" content><meta property="og:image" content><meta property="og:image:type" content="image/jpeg"><meta property="og:image:width" content><meta property="og:image:height" content><meta property="og:url" content="https://shunyaueta.com/posts/2017-12-23_jupyternotebook%E3%82%92%E3%83%AA%E3%83%A2%E3%83%BC%E3%83%88%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E4%B8%8A%E3%81%A7%E5%85%AC%E9%96%8B%E3%81%97%E3%81%A6%E3%81%A9%E3%81%93%E3%81%A7%E3%82%82%E7%A0%94%E7%A9%B6%E9%96%8B%E7%99%BA-%E8%AC%9B%E7%BE%A9%E3%81%A7jupyterhub%E3%82%92%E5%88%A9%E7%94%A8%E3%81%99%E3%82%8B/"><meta property="og:locale" content="ja"><meta property="article:published_time" content="2017-12-23"><meta property="article:modified_time" content="2017-12-23"><meta property="article:tag" content="Python"><meta property="article:tag" content="Jupyter"><meta name=twitter:card content="summary"><meta name=twitter:site content="@hurutoriya"><meta name=twitter:creator content="@hurutoriya"><meta name=twitter:title content="JupyterNotebookをリモートサーバー上で公開して、どこでも研究開発 & 講義でJupyterhubを利用する |"><meta name=twitter:description content="JupyterNotebook をリモートサーバー上で公開して、どこでも研究開発 & 講義で Jupyterhub を利用するお話です。
GIF 画像は下記の記事で知ったtqdmというパッケージを使いたくなった衝動の成れの果てです。
 私が選ぶ 2015 年の”新しい”Python モジュール トップ 5 IPython データサイエンスクックブック ―対話型コンピューティングと可視化のためのレシピ集  IPython データサイエンスクックブックをキッカケに研究室でも JupyterNotebook の凄さを皆が知り、MATLAB の kernel を通して利用を始めたりしています。自分は Python2→MATLAB→MATLAB & Python3 という流れで移り変わっています。
JupyterNotebook をリモートサーバー上で公開 コードは以下の通りです。特に問題なく公開することができました。
環境  CentOS 7 系  下記の記事を参考にセットアップする。
 pyenv と virtualenv で環境構築  今回は pyenv を使って Python3.5.1 でホストしています。
昨日この記事を読んで、Anaconda がオススメされているので今度セットアップするときに使ってみよう。
 Running a public notebook server | JupyterNotebook Docment  こまかい設定等は以下の記事で説明されています。IPython Notebook を対象にした記事ですが、ほとんど一緒なので問題ありません。(config.py 自体がコメントで丁寧に各設定が記述されています。)
 IPython notebook サーバーを立ち上げる ipython notebook をリモートサーバ上で動かす。  参考記事  iPython notebook で研究開発生活  Juptyerhub : 講義で Jupyter を利用する。 JupyterNotebook を講義でも活用できるようにならないかなと先生と探していたのですが、Jupyternotebook を公開するだけだとユーザー管理が不可能です。例えば ~tarou/というディレクトリで jupyternotebook を公開すると~tarou/に notebook が沢山できだれがどのノートを作ったのかが把握できないという問題点があります。|"><meta name=twitter:image:src content><meta name=twitter:domain content="https://shunyaueta.com/posts/2017-12-23_jupyternotebook%E3%82%92%E3%83%AA%E3%83%A2%E3%83%BC%E3%83%88%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E4%B8%8A%E3%81%A7%E5%85%AC%E9%96%8B%E3%81%97%E3%81%A6%E3%81%A9%E3%81%93%E3%81%A7%E3%82%82%E7%A0%94%E7%A9%B6%E9%96%8B%E7%99%BA-%E8%AC%9B%E7%BE%A9%E3%81%A7jupyterhub%E3%82%92%E5%88%A9%E7%94%A8%E3%81%99%E3%82%8B/"><title>JupyterNotebookをリモートサーバー上で公開して、どこでも研究開発 & 講義でJupyterhubを利用する</title><link rel=canonical href=https://shunyaueta.com/posts/2017-12-23_jupyternotebook%E3%82%92%E3%83%AA%E3%83%A2%E3%83%BC%E3%83%88%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E4%B8%8A%E3%81%A7%E5%85%AC%E9%96%8B%E3%81%97%E3%81%A6%E3%81%A9%E3%81%93%E3%81%A7%E3%82%82%E7%A0%94%E7%A9%B6%E9%96%8B%E7%99%BA-%E8%AC%9B%E7%BE%A9%E3%81%A7jupyterhub%E3%82%92%E5%88%A9%E7%94%A8%E3%81%99%E3%82%8B/><link rel=stylesheet href=https://unpkg.com/tachyons@4.11.1/css/tachyons.min.css><link rel=stylesheet href=https://shunyaueta.com/css/style.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/highlightjs@9.12.0/styles/github-gist.css><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-39994406-11','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><link rel="shortcut icon" href=/favicon.ico type=image/x-icon><link rel=apple-touch-icon href=/apple-touch-icon.png></head><body lang=ja class="sans-serif w-90 w-60-ns center center-ns mv2 mv5-ns" itemscope itemtype=http://schema.org/Article><span class=b>/</span>
<a href=https://shunyaueta.com/ class="b bb bw1 pb1 no-underline black"></a><section id=main class=mt5><h1 itemprop=name id=title>JupyterNotebookをリモートサーバー上で公開して、どこでも研究開発 & 講義でJupyterhubを利用する</h1><article itemprop=articleBody id=content class="w-90 lh-copy"><p>JupyterNotebook をリモートサーバー上で公開して、どこでも研究開発 & 講義で Jupyterhub を利用するお話です。</p><p><img src=/posts/2017-12-23_jupyternotebook%E3%82%92%E3%83%AA%E3%83%A2%E3%83%BC%E3%83%88%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E4%B8%8A%E3%81%A7%E5%85%AC%E9%96%8B%E3%81%97%E3%81%A6%E3%81%A9%E3%81%93%E3%81%A7%E3%82%82%E7%A0%94%E7%A9%B6%E9%96%8B%E7%99%BA-%E8%AC%9B%E7%BE%A9%E3%81%A7jupyterhub%E3%82%92%E5%88%A9%E7%94%A8%E3%81%99%E3%82%8B/images/1.gif alt=image></p><p>GIF 画像は下記の記事で知った<code>tqdm</code>というパッケージを使いたくなった衝動の成れの果てです。</p><ul><li><a href=http://postd.cc/my-top-5-new-python-modules-of-2015/>私が選ぶ 2015 年の”新しい”Python モジュール トップ 5</a>
<a href=http://amzn.to/2DGM8UA>IPython データサイエンスクックブック ―対話型コンピューティングと可視化のためのレシピ集</a></li></ul><p>IPython データサイエンスクックブックをキッカケに研究室でも JupyterNotebook の凄さを皆が知り、MATLAB の kernel を通して利用を始めたりしています。自分は Python2→MATLAB→MATLAB & Python3 という流れで移り変わっています。</p><h3 id=jupyternotebook-をリモートサーバー上で公開>JupyterNotebook をリモートサーバー上で公開</h3><p>コードは以下の通りです。特に問題なく公開することができました。</p><h3 id=環境>環境</h3><ul><li>CentOS 7 系</li></ul><p>下記の記事を参考にセットアップする。</p><ul><li><a href=http://qiita.com/Kodaira_/items/feadfef9add468e3a85b>pyenv と virtualenv で環境構築</a></li></ul><p>今回は pyenv を使って Python3.5.1 でホストしています。</p><p>昨日この記事を読んで、Anaconda がオススメされているので今度セットアップするときに使ってみよう。</p><ul><li><a href=http://jupyter-notebook.readthedocs.org/en/latest/public_server.html#notebook-public-server>Running a public notebook server | JupyterNotebook Docment</a></li></ul><p>こまかい設定等は以下の記事で説明されています。IPython Notebook を対象にした記事ですが、ほとんど一緒なので問題ありません。(config.py 自体がコメントで丁寧に各設定が記述されています。)</p><ul><li><a href=http://qiita.com/ynakayama/items/ab3ea36fa8a7f0f6e5b3>IPython notebook サーバーを立ち上げる</a></li><li><a href=http://akiniwa.hatenablog.jp/entry/2013/11/25/001805>ipython notebook をリモートサーバ上で動かす。</a></li></ul><h3 id=参考記事>参考記事</h3><ul><li><a href=http://qiita.com/jellied_unagi/items/10877ca7f53bda4c34fa>iPython notebook で研究開発生活</a></li></ul><h3 id=juptyerhub--講義で-jupyter-を利用する>Juptyerhub : 講義で Jupyter を利用する。</h3><p>JupyterNotebook を講義でも活用できるようにならないかなと先生と探していたのですが、Jupyternotebook を公開するだけだとユーザー管理が不可能です。例えば <code>~tarou/</code>というディレクトリで jupyternotebook を公開すると<code>~tarou/</code>に notebook が沢山できだれがどのノートを作ったのかが把握できないという問題点があります。</p><p>その問題点を解消するのが<code>JupyterHub</code>です。</p><ul><li><a href=https://github.com/jupyter/jupyterhub>Jupyterhub</a></li></ul><p>Jupyterhub は標準のユーザー認証で<a href=https://en.wikipedia.org/wiki/Pluggable_authentication_module>PAM</a>を利用しているので、Cent OS のユーザー名とパスワードでログインすることができます。</p><p>2016/01/29 現時点で、PAM の認証方式だと上手く認証されるときとされないときが存在しています。</p><p>PAM 以外の認証方法としては<a href=https://github.com/jupyter/jupyterhub/wiki/Authenticators>Auth</a>で記述されているが以下の</p><ul><li>GitHub/BitBucket/MediaWiki/CILogon OAuth</li><li>Google OAuth</li><li>Local+Google OAuth (from within a Docker container)</li><li>LDAP Authenticator</li></ul><p>が用意されている。大学で LADP サーバーが公開されているならそれと連携するのが一番だが、Github などを認証に使うのも良いんじゃないかと。</p><p>[余談]Jupyterhub の記事を探していて見つけたこの記事が面白い。UC バークレーの Ph.D の学生が教育用にどう Jupyterhub を活用しているか。そして運用の段階でどのような問題がでてきたかが書かれている。海外の大学は進んでいるな~</p><ul><li><a href=https://developer.rackspace.com/blog/deploying-jupyterhub-for-education/>Deploying JupyterHub for Education</a></li></ul><h3 id=参考記事-1>参考記事</h3><ul><li><a href=http://estrellita.hatenablog.com/entry/2015/07/31/083202>CentOS6.6(64bit)に JupyterHub をインストールする</a></li></ul><p>2016/01/29 0:52 昨日の時点では問題なく Jupiter が稼働していたんですが、今は動かないので問題を解決できたらスクリーンショット載せます。</p></article></section><footer><div><p class="f6 gray mt6 lh-copy">© 2016-20 <a href=https://twitter.com/hurutoriya>@hurutoriya</a>.</p></div></footer><script src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.14.2/highlight.min.js></script><script>hljs.initHighlightingOnLoad();</script></body></html>