<!doctype html><html><head><script data-ad-client=ca-pub-8604812913439531 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>Tensorboard を わずか2行で Jupyter Notebook上で表示 - hurutoriya</title><meta name=viewport content="width=device-width,initial-scale=1"><meta property="og:image" content><meta property="og:title" content="Tensorboard を わずか2行で Jupyter Notebook上で表示"><meta property="og:description" content="Pytorch 1.2 からは公式に Tensorboard がサポートされている
Tensorboard とは、学習の状況を可視化できる TensorFlow Family の一種
Jupyte Notebook 上で学習状況を確認したい場合に Tensorboard をそのまま表示して確認できれば楽なので、試してみる
sample code: https://pytorch.org/docs/stable/tensorboard.html
import torch import torchvision from torch.utils.tensorboard import SummaryWriter from torchvision import datasets, transforms # Writer will output to ./runs/ directory by default writer = SummaryWriter() transform = transforms.Compose([transforms.ToTensor(), transforms.Normalize((0.5,), (0.5,))]) trainset = datasets.MNIST('mnist_train', train=True, download=True, transform=transform) trainloader = torch.utils.data.DataLoader(trainset, batch_size=64, shuffle=True) model = torchvision.models.resnet50(False) # Have ResNet model take in grayscale rather than RGB model."><meta property="og:type" content="article"><meta property="og:url" content="https://shunyaueta.com/posts/2019-09-25/"><meta property="article:published_time" content="2019-09-25T23:16:07+09:00"><meta property="article:modified_time" content="2019-09-25T23:16:07+09:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Tensorboard を わずか2行で Jupyter Notebook上で表示"><meta name=twitter:description content="Pytorch 1.2 からは公式に Tensorboard がサポートされている
Tensorboard とは、学習の状況を可視化できる TensorFlow Family の一種
Jupyte Notebook 上で学習状況を確認したい場合に Tensorboard をそのまま表示して確認できれば楽なので、試してみる
sample code: https://pytorch.org/docs/stable/tensorboard.html
import torch import torchvision from torch.utils.tensorboard import SummaryWriter from torchvision import datasets, transforms # Writer will output to ./runs/ directory by default writer = SummaryWriter() transform = transforms.Compose([transforms.ToTensor(), transforms.Normalize((0.5,), (0.5,))]) trainset = datasets.MNIST('mnist_train', train=True, download=True, transform=transform) trainloader = torch.utils.data.DataLoader(trainset, batch_size=64, shuffle=True) model = torchvision.models.resnet50(False) # Have ResNet model take in grayscale rather than RGB model."><script src=https://shunyaueta.com/js/feather.min.js></script><link href=https://shunyaueta.com/css/fonts.css rel=stylesheet><link rel=stylesheet type=text/css media=screen href=https://shunyaueta.com/css/main.css><link rel=stylesheet type=text/css href=https://shunyaueta.com/css/dark.css media="(prefers-color-scheme: dark)"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-39994406-11"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-39994406-11');</script></head><body><div class=content><header><div class=main><a href=https://shunyaueta.com/>hurutoriya</a></div><nav><a href=/>Home</a>
<a href=/posts>All posts</a>
<a href=/about>About</a>
<a href=/tags>Tags</a></nav></header><main><article><div class=title><h1 class=title>Tensorboard を わずか2行で Jupyter Notebook上で表示</h1><div class=meta>Posted on Sep 25, 2019</div></div><section class=body><p>Pytorch 1.2 からは公式に Tensorboard がサポートされている</p><p>Tensorboard とは、学習の状況を可視化できる TensorFlow Family の一種</p><p>Jupyte Notebook 上で学習状況を確認したい場合に Tensorboard をそのまま表示して確認できれば楽なので、試してみる</p><p>sample code: <a href=https://pytorch.org/docs/stable/tensorboard.html>https://pytorch.org/docs/stable/tensorboard.html</a></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>import</span> torch
<span style=color:#f92672>import</span> torchvision
<span style=color:#f92672>from</span> torch.utils.tensorboard <span style=color:#f92672>import</span> SummaryWriter
<span style=color:#f92672>from</span> torchvision <span style=color:#f92672>import</span> datasets, transforms

<span style=color:#75715e># Writer will output to ./runs/ directory by default</span>
writer <span style=color:#f92672>=</span> SummaryWriter()

transform <span style=color:#f92672>=</span> transforms<span style=color:#f92672>.</span>Compose([transforms<span style=color:#f92672>.</span>ToTensor(), transforms<span style=color:#f92672>.</span>Normalize((<span style=color:#ae81ff>0.5</span>,), (<span style=color:#ae81ff>0.5</span>,))])
trainset <span style=color:#f92672>=</span> datasets<span style=color:#f92672>.</span>MNIST(<span style=color:#e6db74>&#39;mnist_train&#39;</span>, train<span style=color:#f92672>=</span>True, download<span style=color:#f92672>=</span>True, transform<span style=color:#f92672>=</span>transform)
trainloader <span style=color:#f92672>=</span> torch<span style=color:#f92672>.</span>utils<span style=color:#f92672>.</span>data<span style=color:#f92672>.</span>DataLoader(trainset, batch_size<span style=color:#f92672>=</span><span style=color:#ae81ff>64</span>, shuffle<span style=color:#f92672>=</span>True)
model <span style=color:#f92672>=</span> torchvision<span style=color:#f92672>.</span>models<span style=color:#f92672>.</span>resnet50(False)
<span style=color:#75715e># Have ResNet model take in grayscale rather than RGB</span>
model<span style=color:#f92672>.</span>conv1 <span style=color:#f92672>=</span> torch<span style=color:#f92672>.</span>nn<span style=color:#f92672>.</span>Conv2d(<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>64</span>, kernel_size<span style=color:#f92672>=</span><span style=color:#ae81ff>7</span>, stride<span style=color:#f92672>=</span><span style=color:#ae81ff>2</span>, padding<span style=color:#f92672>=</span><span style=color:#ae81ff>3</span>, bias<span style=color:#f92672>=</span>False)
images, labels <span style=color:#f92672>=</span> next(iter(trainloader))

grid <span style=color:#f92672>=</span> torchvision<span style=color:#f92672>.</span>utils<span style=color:#f92672>.</span>make_grid(images)
writer<span style=color:#f92672>.</span>add_image(<span style=color:#e6db74>&#39;images&#39;</span>, grid, <span style=color:#ae81ff>0</span>)
writer<span style=color:#f92672>.</span>add_graph(model, images)
writer<span style=color:#f92672>.</span>close()
</code></pre></div><p>その結果を Jupyter 上で確認したい場合、以下のマジックコマンドを実行する</p><ul><li><a href=https://www.tensorflow.org/tensorboard/r2/tensorboard_in_notebooks>https://www.tensorflow.org/tensorboard/r2/tensorboard_in_notebooks</a></li></ul><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>%load_ext tensorboard
%tensorboard  --logdir runs
</code></pre></div><p>結果を 1 画面で完結して見せたい場合に便利そう</p><p><img src=/posts/2019-09-25/images/1.png alt="tensorboard in jupyter notebook"></p><p>完了!</p></section><div class=post-tags><nav class="nav tags"><ul class=tags><li><a href=/tags/jupyter>Jupyter</a></li><li><a href=/tags/python>Python</a></li><li><a href=/tags/pytorch>Pytorch</a></li></ul></nav></div></article></main><h3>See Also</h3><ul><li><a href=/posts/2018-01-15/>Jupyter Notebookの差分を明瞭に確認する事ができるpackage : nbdime</a></li><li><a href=/posts/2018-01-13/>PythonでGaussian Kernelのアニメーションを作成</a></li><li><a href=/posts/2017-12-22/>JupyterNotebookをリモートサーバー上で公開して、どこでも研究開発 & 講義でJupyterhubを利用する</a></li><li><a href=/posts/2017-11-22/>Jupyter上でSVGのイラストやアニメーションが作成できるプラグイン egel</a></li><li><a href=/posts/2019-06-17/>How to concat image using skimage</a></li></ul><footer><hr><a class=soc href=https://github.com/hurutoriya title=GitHub><i data-feather=github></i></a>|<a class=soc href=https://twitter.com/hurutoriya/ title=Twitter><i data-feather=twitter></i></a>|⚡️
2021 © Shunya Ueta | <a href=https://github.com/athul/archie>Archie Theme</a> | Built with <a href=https://gohugo.io>Hugo</a></footer><script>feather.replace()</script></div></body></html>