<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Shunya Ueta (a.k.a hurutoriya) personal website"><link rel="shortcut icon" href=https://shunyaueta.com/favicon.ico><link rel=stylesheet href=/css/style.min.css><title>サイトのPWA化、ホスティングをGithub PagesからFirebaseへ移行</title></head><body><header id=banner><h2><a href=https://shunyaueta.com/>Software Engineer as Data Scientist</a></h2><nav><ul><li><a href=/ title=posts>posts</a></li><li><a href=/about/ title=about>about</a></li></ul></nav></header><main id=content><article><header id=post-header><h1>サイトのPWA化、ホスティングをGithub PagesからFirebaseへ移行</h1><time>January 9, 2018</time></header><p>PWA と FireBase を試してみたかった</p><p><img src=/posts/2018-01-09_%E3%82%B5%E3%82%A4%E3%83%88%E3%81%AEpwa%E5%8C%96%E3%83%9B%E3%82%B9%E3%83%86%E3%82%A3%E3%83%B3%E3%82%B0%E3%82%92github-pages%E3%81%8B%E3%82%89firebase%E3%81%B8%E7%A7%BB%E8%A1%8C/images/1.png alt=image></p><p>firebase init で現れる画面、テンション上がる</p><p>Github Pages + CloudFlare で独自ドメインの <a href=https://shunyaueta.com/>shunyaueta.com</a> をホスティングしてたんですが、Firebase でホスティングできると聞いて Firebase に移行しました。</p><p>PWA にしたのは完全に趣味です。</p><h3 id=tldr>TL;DR;</h3><ul><li>Web App を作ってる人は manifest.json を設置するだけでも Android の使用感が改善されそう</li><li>独自ドメインでお手軽に SSL ホスティングしたいなら Firebase hosting めっちゃおすすめです(1GB のホスティングは無料)</li><li>FireBase Hosting だけだと Firebase 本来の旨味は味わえません</li></ul><h3 id=pwa>PWA</h3><p>1 年前ですが、簡潔に PWA の事が書かれています</p><p><a href=https://html5experts.jp/agektmr/20527/>プログレッシブウェブアプリ詳解 ─ 過去・現在・未来</a></p><p><img src=/posts/2018-01-09_%E3%82%B5%E3%82%A4%E3%83%88%E3%81%AEpwa%E5%8C%96%E3%83%9B%E3%82%B9%E3%83%86%E3%82%A3%E3%83%B3%E3%82%B0%E3%82%92github-pages%E3%81%8B%E3%82%89firebase%E3%81%B8%E7%A7%BB%E8%A1%8C/images/2.png alt=image></p><p><img src=/posts/2018-01-09_%E3%82%B5%E3%82%A4%E3%83%88%E3%81%AEpwa%E5%8C%96%E3%83%9B%E3%82%B9%E3%83%86%E3%82%A3%E3%83%B3%E3%82%B0%E3%82%92github-pages%E3%81%8B%E3%82%89firebase%E3%81%B8%E7%A7%BB%E8%A1%8C/images/3.png alt=image></p><p>左: PWA 化以前 右: PWA 化以降</p><p>ServiceWorker と manifest.json,あとは&lt;meta name=”theme-color”>を指定すると PWA のスコアが 100 点になる 🎉</p><p><img src=/posts/2018-01-09_%E3%82%B5%E3%82%A4%E3%83%88%E3%81%AEpwa%E5%8C%96%E3%83%9B%E3%82%B9%E3%83%86%E3%82%A3%E3%83%B3%E3%82%B0%E3%82%92github-pages%E3%81%8B%E3%82%89firebase%E3%81%B8%E7%A7%BB%E8%A1%8C/images/4.png alt=image></p><p>manihest.json によるホームアイコン作成誘導</p><p>Favicon の各画像の生成は下記のサイトが便利でした。要求される解像度毎の画像(Favicon,Home icon, Apple home icon)が生成されて mahifest.json も同梱されます。(画像の圧縮率も選べる)</p><p><a href=https://realfavicongenerator.net/>Favicon Generator for all platforms: iOS, Android, PC/Mac&mldr;</a></p><p>後は、</p><p><a href=https://medium.com/dev-channel/learn-how-to-build-a-pwa-in-under-5-minutes-c860ad406ed>Learn how to build a PWA in 5 minutes</a></p><p>を参考に最小実装で実現しました。(Web 通知は無意味だから止めました)</p><p>CSS は Skelton を採用しました。(css only 実装で js がなくてシンプルで良い)</p><p><a href=https://github.com/dhg/Skeleton>dhg/Skeleton</a></p><p><strong>Web App やってる人は、実装コスト 1 時間程度で済むので皆 manifest.json を設置するべき!!!</strong></p><blockquote><p>[](<a href=https://twitter.com/agektmr/status/894753854373351424>https://twitter.com/agektmr/status/894753854373351424</a>)
kitamura さんの受け売りです</p></blockquote><p>Web App Manifest については下記の記事が分かりやすいです。</p><p><a href=https://qiita.com/horo/items/ff665e4a6613e7684f8f>Web App Manifest で Web アプリをインストール可能に - Qiita</a></p><p>というか皆 Chrome の中の人の記事だった(どうりで詳しいわけですね…)</p><h3 id=ホスティング>ホスティング</h3><p>Github Pages+CloudFlare(独自ドメイン運用)で SSL 認証された Web Page のホスティングを実現していました。</p><p>FireBase では、<a href=https://firebase.google.com/docs/hosting/>FireBase Hosting</a>を使うことで独自ドメインでもデフォルトで https で Web サイトがホスティングされます(最高)</p><p><img src=/posts/2018-01-09_%E3%82%B5%E3%82%A4%E3%83%88%E3%81%AEpwa%E5%8C%96%E3%83%9B%E3%82%B9%E3%83%86%E3%82%A3%E3%83%B3%E3%82%B0%E3%82%92github-pages%E3%81%8B%E3%82%89firebase%E3%81%B8%E7%A7%BB%E8%A1%8C/images/5.png alt=image></p><p>やり方は以下を参考</p><p><a href=https://firebase.google.com/docs/hosting/deploying>Deploy Your Site | Firebase</a></p><p>めっちゃ簡単にデブロイできます…!!</p><h4 id=成果物>成果物</h4><p><a href=https://shunyaueta.com/>Shunya Ueta | Engineer</a></p><h4 id=所感>所感</h4><p>今回は静的かつ小規模な Web サイトを PWA 化したので、恩恵殆ど無いですがまともな WebApp だと恩恵めっちゃ受けると思います。(Twitter Lite や日経電子版の web サイトなど)</p><p><a href=https://blog.twitter.com/engineering/en_us/topics/open-source/2017/how-we-built-twitter-lite.html>How we built Twitter Lite</a></p><p><a href=https://qiita.com/edwardkenfox/items/4c0b9550ffa48c1f0445>いまさら聞けない PWA と AMP - Qiita</a></p></article></main><footer id=footer>Copyright © 2013-2021 Shunya Ueta</footer></body></html>