<!doctype html><html lang=ja dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>python | ğŸ¦… hurutoriya</title><meta name=keywords content><meta name=description content="Shunya Ueta's blog"><meta name=author content="Shunya Ueta"><link rel=canonical href=https://shunyaueta.com/tags/python/><link crossorigin=anonymous href=/assets/css/stylesheet.abc7c82c3d415a6df50430738d1cbcc4c76fea558bc5a0c830d3babf78167a35.css integrity="sha256-q8fILD1BWm31BDBzjRy8xMdv6lWLxaDIMNO6v3gWejU=" rel="preload stylesheet" as=style><link rel=icon href=https://shunyaueta.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://shunyaueta.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://shunyaueta.com/favicon-32x32.png><link rel=apple-touch-icon href=https://shunyaueta.com/apple-touch-icon.png><link rel=mask-icon href=https://shunyaueta.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://shunyaueta.com/tags/python/index.xml><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme: rgb(29, 30, 32);--entry: rgb(46, 46, 51);--primary: rgb(218, 218, 219);--secondary: rgb(155, 156, 157);--tertiary: rgb(65, 66, 68);--content: rgb(196, 196, 197);--hljs-bg: rgb(46, 46, 51);--code-bg: rgb(55, 56, 62);--border: rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','G-JMJRQJT0Q3','auto');ga('send','pageview');}</script><meta property="og:title" content="python"><meta property="og:description" content="Shunya Ueta's blog"><meta property="og:type" content="website"><meta property="og:url" content="https://shunyaueta.com/tags/python/"><meta property="og:image" content="https://shunyaueta.com/ogp.jpg"><meta property="og:site_name" content="Shunya Ueta"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://shunyaueta.com/ogp.jpg"><meta name=twitter:title content="python"><meta name=twitter:description content="Shunya Ueta's blog"></head><body class=list id=top><script>if(localStorage.getItem("pref-theme")==="dark"){document.body.classList.add('dark');}else if(localStorage.getItem("pref-theme")==="light"){document.body.classList.remove('dark')}else if(window.matchMedia('(prefers-color-scheme: dark)').matches){document.body.classList.add('dark');}</script><header class=header><nav class=nav><div class=logo><a href=https://shunyaueta.com/ accesskey=h title="ğŸ¦… hurutoriya (Alt + H)">ğŸ¦… hurutoriya</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://shunyaueta.com/archives title=Archive><span>Archive</span></a></li><li><a href=https://shunyaueta.com/about title=About><span>About</span></a></li><li><a href=https://shunyaueta.com/tags/newsletter/ title=Newsletter><span>Newsletter</span></a></li><li><a href=https://shunyaueta.com/index.xml title=RSS><span>RSS</span></a></li></ul></nav></header><main class=main><header class=page-header><h1>python</h1></header><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy src=https://shunyaueta.com/posts/2022-10-23-2344/images/01.gif alt=ãƒ‡ãƒ¢ã‚¢ãƒ—ãƒªã®å‹•ç”»></figure><header class=entry-header><h2>Elasticsearchã®è¿‘ä¼¼è¿‘å‚æ¢ç´¢ã‚’ä½¿ã£ã¦ã€ãƒ‰ãƒ©ãˆã‚‚ã‚“ã®ã²ã¿ã¤é“å…·æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã‚’ä½œã£ã¦ã¿ãŸ</h2></header><div class=entry-content><p>Elasticsearch 8 ç³»ã‹ã‚‰ä½¿ç”¨å¯èƒ½ã«ãªã£ãŸè¿‘ä¼¼è¿‘å‚æ¢ç´¢1ã‚’ä½¿ã£ã¦ã€ãƒ‰ãƒ©ãˆã‚‚ã‚“ã®ã²ã¿ã¤é“å…·ã®è‡ªç„¶è¨€èªæ¤œç´¢ãŒã§ãã‚‹æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã‚’ä½œã£ã¦ã¿ãŸã€‚
ãƒ‡ãƒ¢å‹•ç”»ã®ã‚ˆã†ã«ã€æ¤œç´¢ã—ãŸã„ã²ã¿ã¤é“å…·ã‚’èª¬æ˜ã™ã‚‹æ–‡ç« ã™ã‚‹ã“ã¨ã§è¿‘ã—ã„ã²ã¿ã¤é“å…·ãŒæ¤œç´¢ã•ã‚Œã¾ã™ã€‚
ã‚³ãƒ¼ãƒ‰ã¯ GitHub ã«å…¬é–‹ã—ã¦ã‚ã‚‹ã®ã§ã€èˆˆå‘³ã®ã‚ã‚‹æ–¹ã¯æ‰‹å…ƒã§ã€å‹•ã‹ã—ã¦éŠã¶ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚ poetry ã¨ Docker ã•ãˆã‚ã‚Œã°å‹•ãã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚
hurutoriya/doraemon-himitsu-dogu-search: Doraemon Himitsu Dogu Japanese semantic search based on Elascticsearch ANN
ã‚·ã‚¹ãƒ†ãƒ ã®æ¦‚è¦å›³ã¯ã“ã‚“ãªæ„Ÿã˜
æ‰€æ„Ÿ ãƒ‰ãƒ©ãˆã‚‚ã‚“ã®ã²ã¿ã¤é“å…·ã®ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‚’ä»Šå›ï¼‘ã‹ã‚‰ä½œã£ãŸãŒã€ãƒ‘ãƒ¼ã‚¹ã¨å‰å‡¦ç†ãŒã‚ã‚“ã©ãã•ãã¦ã“ã“ãŒä¸€ç•ªæ‰‹é–“ãŒã‹ã‹ã£ãŸã€‚ãŒã€å·¥å¤«ã—ãªã„ã¨å‡ºæ¥ãªã‹ã£ãŸã®ã§ã€ä¸€ç•ªæ¥½ã—ã„ã¨ã“ã‚ã§ã‚‚ã‚ã£ãŸã€‚ æ–‡ç« ã®ç‰¹å¾´æŠ½å‡ºã¯ã€sonoisa/sentence-bert-base-ja-mean-tokens-v2 Â· Hugging Faceã‚’ä½¿ã‚ã›ã¦ã„ãŸã ãã€é©šãã»ã©ç°¡å˜ã«å®Ÿç¾ã§ããŸã€‚ å®Ÿéš›ã¯ã‚‚ã£ã¨ç²¾åº¦ã‚’é«˜ã‚ã‚‹ã«ã¯ã€fine tune ãªã©ãŒã„ã„ã®ã ã‚ã†ãŒã€ã‚·ã‚¹ãƒ†ãƒ å´ã‚’ä½œã‚‹ã“ã¨ã«æ³¨åŠ›ã—ãŸã‹ã£ãŸã®ã§ä»Šå›ã¯å‰²æ„› ãƒ‡ãƒ¢ã‚¢ãƒ—ãƒªã®æ§‹ç¯‰ã¯ streamlit ã‚’ä½¿ã£ã¦ 20m ãã‚‰ã„ã§ä½œã‚ŒãŸã®ã§ã€ç›¸å¤‰ã‚ã‚‰ãšä¾¿åˆ©ã™ãã¦æ„›ç”¨ã—ã¦ã„ã‚‹ã€‚ä»Šå›ã®æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã¯ CLI ã‹ã‚‰å®Ÿè¡Œã‚‚ã§ãã‚‹ãŒã€ã“ã†ã‚„ã£ã¦ãƒ‡ãƒ¢ã‚¢ãƒ—ãƒªãŒã‚ã£ãŸã»ã†ãŒãã‚Œã£ã½ãã¦æ°—æŒã¡ã„ã„ã€‚ ã‚¤ãƒ³ãƒ‡ã‚­ã‚·ãƒ³ã‚°æ™‚ã«ãƒˆãƒ¼ã‚«ãƒŠã‚¤ã‚¶ãƒ¼ã®ã“ã¨ãªã©å…¨ãè€ƒãˆãšã«ç‰¹å¾´ãƒ™ã‚¯ãƒˆãƒ«ã ã‘ã‚¤ãƒ³ãƒ‡ã‚­ã‚·ãƒ³ã‚°ã—ã¦ã€ãã‚Œã§æ¤œç´¢ãŒæˆã‚Šç«‹ã¤ã¨ã„ã†ã®ã¯æ–°é®®ã€‚é–¾å€¤è¨­å®šã—ãªã‘ã‚Œã°ã‚¼ãƒ­ãƒ’ãƒƒãƒˆå•é¡Œã«ã‚‚ç›´é¢ã—ãªã„ã®ã§ã€ã§ãã‚‹ã“ã¨ã®å¹…ã¯åºƒãŒã‚Šãã†ã€‚ Elasticsearch ã®è¿‘ä¼¼è¿‘å‚æ¢ç´¢ã¯ã€ä»Šå›ãƒ™ã‚¯ãƒˆãƒ«åŒå£«ã®è¿‘ä¼¼è¿‘å‚æ¢ç´¢ã—ã‹ã‚„ã£ã¦ã„ãªã„ãŒã€ãã‚Œã‚‚ã‚¤ãƒ³ãƒ‡ã‚­ã‚·ãƒ³ã‚°ã€ã‚¯ã‚¨ãƒªéƒ¨åˆ†ã¯å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’è¦‹ã‚Œã°äº‹è¶³ã‚ŠãŸã®ã§å¤‰ã«ãƒãƒã‚‹ã“ã¨ã¯ãªã‹ã£ãŸã€‚ ã‚¯ã‚¨ãƒªéƒ¨åˆ†ã¯ã“ã‚Œã ã‘ã§æ›¸ã‘ãŸã€‚
1 2 3 4 5 6 7 8 9 10 query = { "knn": { "field": "vector", "query_vector": sentence_embeddings[0], "k": 10, "num_candidates": 100, }, "fields": ["name", "description"], } result = es....</p></div><footer class=entry-footer><span title="2022-10-23 23:44:13 +0900 +0900">October 23, 2022</span>&nbsp;Â·&nbsp;Shunya Ueta</footer><a class=entry-link aria-label="post link to Elasticsearchã®è¿‘ä¼¼è¿‘å‚æ¢ç´¢ã‚’ä½¿ã£ã¦ã€ãƒ‰ãƒ©ãˆã‚‚ã‚“ã®ã²ã¿ã¤é“å…·æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã‚’ä½œã£ã¦ã¿ãŸ" href=https://shunyaueta.com/posts/2022-10-23-2344/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>Python ã§ zipé–¢æ•°ã‚’ä½¿ã†éš›ã«ã€ï¼’ã¤ã®é…åˆ—ãŒåŒã˜å¤§ãã•ã‚’æƒ³å®šã™ã‚‹å ´åˆã¯ 3.10 ã‹ã‚‰å°å…¥ã•ã‚ŒãŸ strict=True ã‚’ä½¿ãŠã†</h2></header><div class=entry-content><p>Python ã§ï¼’ã¤ã®é…åˆ—ã‚’ for æ–‡ã§æ‰±ã„ãŸã„å ´åˆã«ã‚ˆãä½¿ã†ã®ãŒ zip() ã§ã™ã€‚
zip()ã‚’ä½¿ã£ãŸ for æ–‡ã§ã¯æš—é»™çš„ã«åŒã˜å¤§ãã•ãŒè¦æ±‚ã•ã‚Œã‚‹ã¨æ€ã£ã¦ã„ãŸãŒã€å®Ÿéš›ã«ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ï¼’ã¤ã®é…åˆ—ã®å¤§ãã•ãŒç•°ãªã£ã¦ã„ã¦ã‚‚ã‚¨ãƒ©ãƒ¼ãŒå‡ºãªã„ã“ã¨ã«æ°—ãŒä»˜ã‹ãšã€å›°ã£ãŸã“ã¨ãŒã‚ã£ãŸã€‚
1 2 3 4 5 6 7 8 9 10 In [1]: a = [1,2,3,4] In [2]: b = [1,2,3] In [3]: for i,j in zip(a,b): ...: print(i,j) ...: 1 1 2 2 3 3 ã¦ã£ãã‚Šã€å¤§ãã„é…åˆ—ã®è¦ç´ ã‚’å‚ç…§æ™‚ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹ã‹ã¨æ€ã£ãŸã‚‰ã€ãã‚“ãªã“ã¨ã¯ãªã‹ã£ãŸã€‚
assert ã¨ã‹ã§äº‹å‰ã«ã‚³ã‚±ã‚‹ã‚ˆã†ã«ã—ã¦ãŠãã¨ã‹å¿…è¦ãã†ã€‚ ã‚‚ã—ãã¯ã€ä¸¡è€…ã®é…åˆ—ã®ã‚µã‚¤ã‚ºãŒåŒã˜ã“ã¨ã‚’æ˜ç¤ºçš„ã«ç¢ºèªã™ã‚‹ã®ãŒå‰ã€‚
ã¾ãŸè›‡è¶³ã ãŒã€Stackoverflow ã§ã¯æ„å›³çš„ã«ç•°ãªã‚‹å¤§ãã•ã®é…åˆ—ã‚’ä¸Šæ‰‹ãå¾ªç’°ã•ã›ã¤ã¤å›ã—ãŸã„å ´åˆã®å¯¾å‡¦æ³•ã‚‚æ›¸ã„ã¦ã‚ã‚Šå‹‰å¼·ã«ãªã£ãŸã€‚1
2022-10-27: è¿½è¨˜
@ftnext ã•ã‚“ã‹ã‚‰ä»¥ä¸‹ã®æƒ…å ±2ã‚’æ•™ãˆã¦ã‚‚ã‚‰ã„ã¾ã—ãŸã€‚
å°ã•ã„æ–¹ã‚’èª­ã¿åˆ‡ã£ãŸã‚‰ for ã‚’æŠœã‘ã‚‹ã®äºˆæƒ³ã¨é•ã„ã¾ã™ã‚ˆã­ã€‚ 3.10 ã‹ã‚‰ zip ã« strict å¼•æ•°ãŒè¿½åŠ ã•ã‚Œã¦ãŠã‚Šã€True ã‚’æŒ‡å®šã™ã‚Œã°é•·ã•ãŒç•°ãªã‚‹ã¨ ValueError ã‚’é€å‡ºã™ã‚‹ã‚ˆã†ã«ãªã£ãŸã‚“ã§ã™ï¼ https://docs....</p></div><footer class=entry-footer><span title="2022-10-17 11:56:22 +0900 +0900">October 17, 2022</span>&nbsp;Â·&nbsp;Shunya Ueta</footer><a class=entry-link aria-label="post link to Python ã§ zipé–¢æ•°ã‚’ä½¿ã†éš›ã«ã€ï¼’ã¤ã®é…åˆ—ãŒåŒã˜å¤§ãã•ã‚’æƒ³å®šã™ã‚‹å ´åˆã¯ 3.10 ã‹ã‚‰å°å…¥ã•ã‚ŒãŸ strict=True ã‚’ä½¿ãŠã†" href=https://shunyaueta.com/posts/2022-10-17-1156/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>Apache Beam 2.40 ã§å°å…¥ã•ã‚ŒãŸ scikit-lean, Pytorch ã®åŠ¹ç‡çš„ãªæ¨è«–ãŒå¯èƒ½ã«ãªã‚‹ RunInference API ã‚’è©¦ã—ã¦ã¿ã‚‹</h2></header><div class=entry-content><p>2022-07-21 ã« Google Cloud ãŒ Cloud DataFlow ã®æ–°æ©Ÿèƒ½ã¨ã—ã¦ã€DataFlow ML ã¨ã„ã†æ–°æ©Ÿèƒ½ã‚’ç™ºè¡¨ã—ãŸã€‚1
Dataflow MLÂ - Speaking of ML transforms, Dataflow now has added out of the box support for running PyTorch and scikit-learn models directly within the pipeline. The new RunInference transform enables simplicity by allowing models to be used in production pipelines with very little code. These features are in addition to Dataflowâ€™s existing ML capabilities such asÂ GPU supportÂ and the pre and post processing system for ML training, either directly or via frameworks such asÂ Tensorflow Extended (TFX)....</p></div><footer class=entry-footer><span title="2022-08-18 19:38:29 +0900 +0900">August 18, 2022</span>&nbsp;Â·&nbsp;Shunya Ueta</footer><a class=entry-link aria-label="post link to Apache Beam 2.40 ã§å°å…¥ã•ã‚ŒãŸ scikit-lean, Pytorch ã®åŠ¹ç‡çš„ãªæ¨è«–ãŒå¯èƒ½ã«ãªã‚‹ RunInference API ã‚’è©¦ã—ã¦ã¿ã‚‹" href=https://shunyaueta.com/posts/2022-08-18-1938/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy src=https://shunyaueta.com/posts/2022-08-10-1717/images/1.png alt="poetry show ã®å®Ÿè¡Œçµæœ"></figure><header class=entry-header><h2>poetry show ã§ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åã« (!) ãŒä»˜ä¸ã•ã‚Œã¦ã„ã‚‹æ„å‘³</h2></header><div class=entry-content><p>poetry show ã¯ã€poetry ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã® pyproject.tomlã«è¨˜è¼‰ã•ã‚ŒãŸåˆ©ç”¨å¯èƒ½ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åã‚’è¡¨ç¤ºã—ã¦ãã‚Œã‚‹ã€‚
ä¾‹ãˆã°ã€ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ poetry install ã‚’è¡Œã†å‰ã«ã€poetry showã‚’è¡Œã†ã¨ä»¥ä¸‹ã®ã‚ˆã†ãªçµæœãŒã§ã‚‹ã€‚
ãã—ã¦ã€grep ã§ä¸Šè¨˜ã®çµæœã‚’è¡¨ç¤ºã•ã›ã¦ã¿ã‚‹ã¨
1 2 > poetry show | grep aiohttp aiohttp (!) 3.8.1 Async http client/server framework (asyncio) ã¨ ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åã« (!)ãŒä»˜ä¸ã•ã‚Œã¦ã„ã‚‹ã€‚
ã“ã®(!)ã£ã¦ãã‚‚ãã‚‚ã©ã‚“ãªæ„å‘³ãªã®ã‹æ°—ã«ãªã£ãŸã®ã§èª¿ã¹ã¦ã¿ã¾ã—ãŸã€‚
Poetry ã®ã‚³ãƒ¼ãƒ‰ã‚’ç›´æ¥èª­ã‚“ã§ã¿ã‚‹ã¨ã€ test_show_basic_with_not_installed_packages_non_decoratedã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ãŒä»Šå›ã®äº‹ä¾‹ã«ãƒãƒƒãƒã—ã¦ãŠã‚Šã€ã‚ã‹ã‚Šã‚„ã™ã‹ã£ãŸã€‚ æ„å‘³ã¨ã—ã¦ã¯ã€ã€Œã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«å¯¾ã™ã‚‹ show ã‚³ãƒãƒ³ãƒ‰ã‚’éè£…é£¾ãƒ¢ãƒ¼ãƒ‰ã§çµæœã‚’å‡ºåŠ›ã€ã¸ã®ãƒ†ã‚¹ãƒˆã ã€‚ çŠ¶æ³ã¨ã—ã¦ã¯ã€cachyã¨pendulumã‚’ poetry add ã—ã¦ã€ cachyã®ã¿ã‚’ poetry install ã—ã¦ã„ã‚‹ã€‚
1 2 3 4 5 6 7 8 9 10 poetry.package.add_dependency(Factory.create_dependency("cachy", "^0.1.0")) poetry.package.add_dependency(Factory.create_dependency("pendulum", "^2.0.0")) cachy_010 = get_package("cachy", "0.1.0") cachy_010.description = "Cachy package" pendulum_200 = get_package("pendulum", "2....</p></div><footer class=entry-footer><span title="2022-08-10 17:17:29 +0900 +0900">August 10, 2022</span>&nbsp;Â·&nbsp;Shunya Ueta</footer><a class=entry-link aria-label="post link to poetry show ã§ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åã« (!) ãŒä»˜ä¸ã•ã‚Œã¦ã„ã‚‹æ„å‘³" href=https://shunyaueta.com/posts/2022-08-10-1717/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>ç¤¾å†…ã§ãƒ‡ãƒ¼ã‚¿åˆ†æçµæœã‚’å¯è¦–åŒ–ãƒ»å…±æœ‰ã™ã‚‹éš›ã« Google Colab ãŒä¾¿åˆ©</h2></header><div class=entry-content><p>ç¤¾å†…ã§ãƒ‡ãƒ¼ã‚¿åˆ†æã®ãƒ¬ãƒãƒ¼ãƒˆã‚’æ›¸ãéš›ã¯ Google Colab ãŒã¨ã¦ã‚‚ä¾¿åˆ©ãªäº‹ã«æ°—ãŒã¤ã„ãŸã€‚
Google Bigquery ã§ãƒ‡ãƒ¼ã‚¿ã‚’æŠ½å‡ºã€Google Sheets ã§å¯è¦–åŒ– å¾“æ¥ã ã¨ã€è‡ªåˆ†ãŒã‚„ã£ã¦ã„ãŸæ–¹æ³•ã¨ã—ã¦ã€
Google BQ ãªã©ã§åˆ†æå¯¾è±¡çµæœã®ãƒ‡ãƒ¼ã‚¿ã‚’æŠ½å‡º ãã®çµæœã‚’ Google Spread Sheet ã¨ã—ã¦ä¿å­˜ã—ã¦ã€Google Sheets ã®æ©Ÿèƒ½ã§å¯è¦–åŒ–ã€‚å…ƒã® SQL ã®ã‚³ãƒ¼ãƒ‰ã¯ã€åˆ¥ã‚·ãƒ¼ãƒˆã‚’ä½œã£ã¦ãã“ã«è²¼ã‚Šä»˜ã‘ã¦ãŠãã€‚ åˆ©ç‚¹ã¨ã—ã¦ã¯ã€ä¸€åº¦ãƒ‡ãƒ¼ã‚¿ã‚’æŠ½å‡ºã—ãŸå¾Œã¯ã€Google Sheets ã§äºŒæ¬¡åŠ å·¥ãŒç°¡å˜ã«ã§ãã‚‹ç‚¹ãŒã¨ã¦ã‚‚ä¾¿åˆ©ã€‚ ã¾ãŸã€ Google Sheet ã‚’å…±æœ‰å¾Œã« Produc Manager ãŒå‡ºã—ãŸã„æ•°å€¤ã‚’ã€Product Manager è‡ªèº«ãŒ Google Sheets ã‚’å…ƒã«ã•ã£ã¨è¨ˆç®—ã™ã‚‹ã“ã¨ã‚‚ã§ãã‚‹ã€‚
ã ãŒã€äºŒæ¬¡åŠ å·¥ãŒä¾¿åˆ©ãªã®ã¯ã„ã„ãŒã€å¤§æŠµã®å¯è¦–åŒ–ã£ã¦ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒæ±ºã¾ã£ã¦ã„ã‚‹ã‹ã¤äºŒæ¬¡åŠ å·¥ã®çŠ¶æ³ãŒå¿…ãšç™ºç”Ÿã™ã‚‹ã‚ã‘ã§ã¯ãªã„ã®ã§ã€SQL å–å¾—ã¨ãã®å¯è¦–åŒ–ã‚’ä¸€æ°—é€šè²«ã§ã§ããªã„ã‹ãªã¨è€ƒãˆã¦ã„ãŸã€‚
ãªã«ã‹è‰¯ã„æ–¹æ³•ç„¡ã„ã‹ãªã¨æ€ã£ã¦ã„ã‚‹çŸ¢å…ˆã«ã€åˆ¥ã®ãƒãƒ¼ãƒ ã®åŒåƒšãŒã€Google Colab ã‚’ä½¿ã£ã¦ã€BQ ã‚’ dataframe ã¨ã—ã¦ä¿å­˜å¾Œ matplotlib ã§å¯è¦–åŒ–ã—ã¦ã„ã‚‹ã®ã‚’è¦‹ã‹ã‘ã¦ã€
æ±‚ã‚ã¦ã„ãŸã®ã¯â€¦ã“ã€ã“ã‚Œã â€¦.
ã¨ãªã‚Šã€é€Ÿæ”»å–ã‚Šå…¥ã‚Œã¾ã—ãŸã€‚
è‰¯ã„ã¨æ€ã£ãŸã¨ã“ã‚ã¯ç©æ¥µçš„ã«çœŸä¼¼ã™ã‚‹
Google Colab ãªã‚‰ã€ãƒ‡ãƒ¼ã‚¿ã®å–å¾—ãƒ»åŠ å·¥ãƒ»å¯è¦–åŒ–ã¾ã§ã‚’å®Œçµå¯èƒ½ Google Colab ã®åˆ©ç‚¹ã‚’åˆ—æŒ™ã—ã¦ãŠã
SQL ã®ã‚³ãƒ¼ãƒ‰ã€ãƒ‡ãƒ¼ã‚¿æŠ½å‡ºã‚„å¯è¦–åŒ–ã®ãƒ­ã‚¸ãƒƒã‚¯ãªã©ãŒ Python ã§è¨˜è¿°å¯èƒ½ã‹ã¤ã€Google Colab ã§å®Œçµ matplotlib ã§å¯è¦–åŒ–ã§ãã‚‹ã®ã§ã€è¦‹ã‚„ã™ãç¾ã—ã„å›³ã‚’ä½œã‚Œã‚‹ ãã—ã¦ãã®ã‚³ãƒ¼ãƒ‰ã¯ä»–ã®ãƒ‡ãƒ¼ã‚¿åˆ†æã§ã‚‚å†åˆ©ç”¨å¯èƒ½ pandas dataframe ã§ Google BQ ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹ã®ã§ã€Standard SQL ã ã‘ã§ã¯é›£ã—ã„è¨ˆç®—ã‚‚ pandasã€ numpy ã‚„ scipy ãªã©ã‚’ä½¿ã£ã¦ãƒ‡ãƒ¼ã‚¿åŠ å·¥ãŒç°¡å˜ã«ã§ãã‚‹ã®ã‚‚ã€ä¾¿åˆ© Google Sheets åŒæ§˜ã€ç°¡å˜ã«ç¤¾å†…ã§å…±æœ‰ã§ãã‚‹ Markdown ã‚‚ Google Colab å†…ã§æ›¸ã‘ã‚‹ã®ã§ã€å‡ã£ãŸæ–‡ç« ãªã©ã‚‚ã„ã‚Œã¦ãƒ¬ãƒãƒ¼ãƒˆã‚‚æ›¸ã‘ã‚‹ ãƒã‚¸ãƒƒã‚¯ã‚³ãƒãƒ³ãƒ‰ã§ã€Google BQ ã®çµæœã‚’ dataframe ã¨ã—ã¦ä¿å­˜1ã—ãŸã‚Šã€...</p></div><footer class=entry-footer><span title="2022-05-10 22:00:23 +0900 +0900">May 10, 2022</span>&nbsp;Â·&nbsp;Shunya Ueta</footer><a class=entry-link aria-label="post link to ç¤¾å†…ã§ãƒ‡ãƒ¼ã‚¿åˆ†æçµæœã‚’å¯è¦–åŒ–ãƒ»å…±æœ‰ã™ã‚‹éš›ã« Google Colab ãŒä¾¿åˆ©" href=https://shunyaueta.com/posts/2022-05-10-2200/></a></article><footer class=page-footer><nav class=pagination><a class=next href=https://shunyaueta.com/tags/python/page/2/>æ¬¡ã®ãƒšãƒ¼ã‚¸&nbsp;&nbsp;Â»</a></nav></footer></main><footer class=footer><span>&copy; 2022 <a href=https://shunyaueta.com/>ğŸ¦… hurutoriya</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z" /></svg></a><script>let menu=document.getElementById('menu')
if(menu){menu.scrollLeft=localStorage.getItem("menu-scroll-position");menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft);}}
document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener("click",function(e){e.preventDefault();var id=this.getAttribute("href").substr(1);if(!window.matchMedia('(prefers-reduced-motion: reduce)').matches){document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({behavior:"smooth"});}else{document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();}
if(id==="top"){history.replaceState(null,null," ");}else{history.pushState(null,null,`#${id}`);}});});</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){if(document.body.scrollTop>800||document.documentElement.scrollTop>800){mybutton.style.visibility="visible";mybutton.style.opacity="1";}else{mybutton.style.visibility="hidden";mybutton.style.opacity="0";}};</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{if(document.body.className.includes("dark")){document.body.classList.remove('dark');localStorage.setItem("pref-theme",'light');}else{document.body.classList.add('dark');localStorage.setItem("pref-theme",'dark');}})</script></body></html>