<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>hugo on Shunya Ueta</title><link>https://shunyaueta.com/tags/hugo/</link><description>Recent content in hugo on Shunya Ueta</description><generator>Hugo -- gohugo.io</generator><language>ja</language><lastBuildDate>Wed, 06 Oct 2021 20:38:58 +0900</lastBuildDate><atom:link href="https://shunyaueta.com/tags/hugo/index.xml" rel="self" type="application/rss+xml"/><item><title>Hugo で記事の更新日をgitと連携して自動的に取得して表示する。</title><link>https://shunyaueta.com/posts/2021-10-06/</link><pubDate>Wed, 06 Oct 2021 20:38:58 +0900</pubDate><guid>https://shunyaueta.com/posts/2021-10-06/</guid><description>最近昔書いていた技術記事の情報が古くなりすぎて不正確なこともあったので、書き直すときがあったのだが、そのときに自動的に最終更新日を記事に表記できないか探していたら、実現方法があったのでメモしておきます。
やっていることは Last Modified Date with Hugo の記事をと完全に一緒だが、日本語での情報が無かったので備忘録がてら記録を残す。
Hugo は各ページに関する情報をFront Matter Variables という仕組みでMarkdown上に定義します。 主にYAML形式で記述されていることが多いです。
lastmod という変数が更新日を表す変数であり、この変数に対して更新日の情報を与えてやれば記事の最終更新日を表現することができる。
Front Matter に `lastmod: &amp;ldquo;2021-03-31&amp;rdquo; の形式で与えておけば、以下の形式で記事作成日と最終更新日を表記できる。
1 2 3 4 5 {{ $date := .Date.Format &amp;#34;02.01.2006&amp;#34; }} {{ $lastmod := .Lastmod.Format &amp;#34;02.01.2006&amp;#34; }} &amp;lt;p&amp;gt;Published on: {{ $date }}&amp;lt;/p&amp;gt; &amp;lt;p&amp;gt;Edited on: {{ $lastmod }}&amp;lt;/p&amp;gt; だが、毎回記事を編集するたびに lastmod 変数を追記するのは面倒なので自動化できるなら自動化したい。
config.yaml で、以下の設定を行う。
1 enableGitInfo:true enableGitInfoを trueにすることで、各ページに対してGit情報を更新日として付与してくれる。
最後にconfig.yaml で以下の設定を行えば、 Front Matter の lastmod 変数に対して、 Front Matter で定義されているlastmod、もしその情報がなければ各ページの gitの最終コミット日を返すという設定がされる。</description></item><item><title>Hugo Tips</title><link>https://shunyaueta.com/posts/2019-06-16/</link><pubDate>Sun, 16 Jun 2019 23:09:18 +0900</pubDate><guid>https://shunyaueta.com/posts/2019-06-16/</guid><description> Hugo 0.32から page bundle が使用可能に この機能で画像ファイルを以下のファイル構成で構築できる 1 2 3 - hoge/ - index.md - hoge.png これにより、markdown とアセットファイルが同一ディレクトリ内に収まるのでアセットファイルの管理が簡単になる
hugo new で特定のエディタを開くには? 1 hugo new posts/hoge.md --editor=&amp;#34;code&amp;#34; 作成時にslug に日付を含める 今回は2020-09-09の形式で slug を作成する 1 hugo new posts/$(date &amp;#39;+%Y-%m-%d&amp;#39;)/index.md page をビルドして結果を確認する 1 hugo server 下書きも含めてビルドする 1 hugo server -D</description></item></channel></rss>