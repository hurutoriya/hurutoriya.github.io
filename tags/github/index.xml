<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/"><channel><title>github on 🦅 hurutoriya</title><link>https://shunyaueta.com/tags/github/</link><description>Recent content in github on 🦅 hurutoriya</description><image><url>https://shunyaueta.com/ogp.jpg</url><link>https://shunyaueta.com/ogp.jpg</link></image><generator>Hugo -- gohugo.io</generator><language>ja</language><lastBuildDate>Sat, 19 Sep 2020 11:31:36 +0900</lastBuildDate><atom:link href="https://shunyaueta.com/tags/github/index.xml" rel="self" type="application/rss+xml"/><item><title>GitHub codeowners でGithubグループを指定しても反映されない時の対処方法</title><link>https://shunyaueta.com/posts/2020-09-19/</link><pubDate>Sat, 19 Sep 2020 11:31:36 +0900</pubDate><guid>https://shunyaueta.com/posts/2020-09-19/</guid><description>GitHub の CODEOWNERS という機能を使えば、レポジトリに対する PR では設定された CODEOWNER が APPROVE を出さないとマージされないようにできます。
この機能を使うことで、例えばそのリポジトリのオーナーであるグループが必ず PR を確認しないとマージできないようにすることでコードのクオリティを保つ仕組みが作れます。
TL;DR GitHub codeowners で特定のグループを CODEOWNERS に設定したいときは、そのグループをレポジトリの /settings/accessで Maintain として追加しないと GitHub PR で自動的に reviwer に追加されない リポジトリで.github/CODEOWNERS のファイルを作成して、以下の形式で GitHub group を追加する 1 * @octo-org/codeowners-team リポジトリの設定の/settings/accessにアクセスして、@octo-org/codeowners-team を Maintain として追加する。 *試していないのですが、Write や Triage 権限でも問題ないかもしれません。
この設定をしたあとに、GitHub PR を新たに作成すると、自動的に CODEOWNERS の approve がないとマージされないように設定されるはずです。
自分自身がハマった経緯 グループ全体のアカウントが追加されているa-group/allという Github Group がすでにリポジトリのアクセス権限に Write 権限として追加されており、全員が write 権限をもっているなら codeowners としての権限も問題ないだろうと思っていたらハマりました。
CODEOWNERS の仕組みを知ると理解できるのですが、a-group/all が指定したいグループの包含関係にあるからといって、そのように取り扱ってくれるわけではないということですね。</description></item></channel></rss>