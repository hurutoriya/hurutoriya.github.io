---
title: "Amazon ã®è£½å“æ¤œç´¢ã§ä½¿ã‚ã‚Œã‚‹ãƒ­ãƒã‚¹ãƒˆãªã‚­ãƒ£ãƒƒã‚·ãƒ¥æ‰‹æ³•ã®è«–æ–‡ã€ŒROSE: Robust Caches for Amazon Product Searchã€"
date: 2022-03-03T09:35:29+09:00
lang: ja
author: Shunya Ueta
cover:
  image: "/posts/2022-03-03/images/fig-1.png"
  caption: "ROSE ã®æ¦‚è¦"
ShowToc: true
tags:
  - search
  - machinelearning
  - paper
---

Web æ¤œç´¢ã¨ãƒ‡ãƒ¼ã‚¿ãƒžã‚¤ãƒ‹ãƒ³ã‚°ã®ãƒˆãƒƒãƒ—ã‚«ãƒ³ãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ WSDM2022 ã®ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ã§
[The First International Workshop on INTERACTIVE AND SCALABLE INFORMATION RETRIEVAL METHODS FOR ECOMMERCE (ISIR-ecom)](https://isir-ecom.github.io/) ãŒå…ˆæ—¥é–‹å‚¬ã•ã‚ŒãŸã€‚

ãƒ†ãƒ¼ãƒžã¯ e ã‚³ãƒžãƒ¼ã‚¹ä¸Šã§ã®æ¤œç´¢ã«ãŠã„ã¦

- æ¤œç´¢ã‚·ã‚¹ãƒ†ãƒ ã®ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£
- ã©ã†ã‚„ã£ã¦é©åˆæ€§(Relevancy)ã‚’ã‚·ã‚¹ãƒ†ãƒ ã§æ”¹å–„ã—ãŸã‹
- ã‚·ã‚¹ãƒ†ãƒ ã®æ”¹å–„

ã«ã¤ã„ã¦ã‚’ãƒ†ãƒ¼ãƒžã«ã—ãŸæ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãªã‚‰åž‚æ¶Žã‚‚ã®ã®ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ã¨ãªã£ã¦ã„ã‚‹ã€‚

åŒæ§˜ã®æ¤œç´¢ã‚·ã‚¹ãƒ†ãƒ ã‚„å®Ÿå¿œç”¨ã«æ³¨ç›®ã—ãŸãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ã§ã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ãªãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ãŒã‚ã‚‹ã€‚

- [SIGIR Workshop On eCommerce](https://sigir-ecom.github.io/) 2017 å¹´ã‹ã‚‰æ¯Žå¹´é–‹å‚¬ã€‚ç´¯è¨ˆ 5 å›žé–‹å‚¬
- [International Workshop on Industrial Recommendation Systems](https://irsworkshop.github.io/2021/) 2020 å¹´ã‹ã‚‰é–‹å‚¬ã€‚ç´¯è¨ˆäºŒå›ž

æ­´å²ã¨ã—ã¦ã¯ã€ SIGIR ecom ãŒé•·ãã€ã“ã‚Œã ã‘ã®æœŸé–“ç¶™ç¶šé–‹å‚¬ã—ã¦ãã‚Œã¦ã„ã‚‹ã®ã¯ã‚ã‚ŠãŒãŸã„é™ã‚Šã€‚

æ©Ÿæ¢°å­¦ç¿’ç³»ã®å›½éš›ä¼šè­°ã§ã‚‚æ‰‹æ³•ã§ã¯ãªãã€ã©ã†ç¾å®Ÿä¸–ç•Œã«é©ç”¨ã—ãŸã‹ã«æ³¨ç›®ã—ãŸãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ãŒç›Šã€…èª•ç”Ÿã—ã¦ãŠã‚Šéžå¸¸ã«è‰¯ã„æµã‚Œã€‚

ACCEPTED PAPERS ã¯ 5 æœ¬ã‚ã‚Šã€

- Amazon: 2
- eBay: 1
- The Home depot: 2

ã¨ä¼æ¥­é–¢ä¿‚è€…ã«ã‚ˆã‚‹è«–æ–‡ãŒ 100%ã¨ãªã£ã¦ã„ã‚‹ã€‚

https://github.com/ISIR-eCom/ISIR-eCom.github.io/tree/main/papers æœ€å¾Œã® PDF ç•ªå·ãŒ 9 ãªã®ã§ã€æœ€ä½Žã§ã‚‚ 9 æœ¬ã®æŠ•ç¨¿ã¯ã‚ã£ãŸæ¨¡æ§˜ã€‚

ç´ æ™´ã‚‰ã—ã„ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ãªã®ã§ã€æ¥å¹´ã‚‚æ˜¯éžç¶™ç¶šã—ã¦é–‹å‚¬ã—ã¦ã»ã—ã„ã€‚

ã™ã¹ã¦ã®æŽ¡æŠžè«–æ–‡ãŒé¢ç™½ãã†ã ã£ãŸãŒã€ä»Šå›žã¯ Amazon Search ãŒå…¬é–‹ã—ãŸ Chen Luo ã‚‰ã®ã€ŒROSE: Robust Caches for Amazon Product Searchã€ã‚’ç´¹ä»‹ã™ã‚‹ã€‚

ç§çš„ãªæ„Ÿæƒ³ã‚„ã‚³ãƒ¡ãƒ³ãƒˆã¯ `NOTE`: ã§å§‹ã‚ã‚‹æ–‡ç« ã§æ›¸ãç•™ã‚ã¦ã„ã¾ã™ã€‚

## ä¸€è¨€ã§èª¬æ˜Ž

ã‚¯ã‚¨ãƒªã®æ›¸ãæ›ãˆ(èª¤æ¤ã‚’ä¿®æ­£ã™ã‚‹)ã¨æ·±å±¤å­¦ç¿’ãƒ¢ãƒ‡ãƒ«ã®çµæžœã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’åŒæ™‚ã«è¡Œãˆã‚‹ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚·ã‚¹ãƒ†ãƒ  `ROSE` ã‚’ææ¡ˆã—ã¦ã€æ¤œç´¢ã‚·ã‚¹ãƒ†ãƒ ã®å¿œç­”é€Ÿåº¦ã¨æ¤œç´¢æ€§èƒ½ã‚’æ”¹å–„ã€‚

## Citation

> ROSE: Robust Caches for Amazon Product Search, Chen Luo, Vihan Lakshman, Anshumali Shrivastava, Tianyu Cao, Sreyashi Nag, Rahul Goutam, Hanqing Lu, Yiwei Song and Bing Yin, Proceedings of the International Workshop on Interactive and Scalable Information Retrieval methods for eCommerce (ISIR-eCom), 2022.

## æ¦‚è¦

Amazon Search ã®ã‚ˆã†ãªå•†å“æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã¯ã—ã°ã—ã°ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’åˆ©ç”¨ã™ã‚‹ã€‚
ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ã‚ˆã£ã¦ Amazon ã®è£½å“æ¤œç´¢ã§ã®é¡§å®¢ä½“é¨“ã‚’å‘ä¸Šã•ã›ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚
é¡§å®¢ä½“é¨“ã ã‘ã§ã¯ãªãã€æ¤œç´¢ã‚·ã‚¹ãƒ†ãƒ ã®ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ã‚‚å¤§å¹…ã«å‘ä¸Šã™ã‚‹ã€‚

ã ãŒã€æ¤œç´¢ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ãŒå¢—å¤§ã—ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚µã‚¤ã‚ºãŒå¤§ãããªã‚Šã™ãŽã‚‹ã¨æ¤œç´¢ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹ãŒåŠ£åŒ–ã—ã¦ã—ã¾ã†ã€‚
ã¾ãŸã€èª¤å­—ã‚„ã‚¹ãƒšãƒ«ãƒŸã‚¹ã€ç¾å®Ÿä¸–ç•Œã§è¦‹ã‚‰ã‚Œã‚‹å†—é•·ãªè¡¨ç¾ã®ã‚¯ã‚¨ãƒªã¯ä¸å¿…è¦ãªã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒŸã‚¹ã‚’å¼•ãèµ·ã“ã—ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®åŠ¹çŽ‡æ€§ã‚’ä½Žä¸‹ã•ã›ã‚‹ã€‚

ã€ŒRObuSt cachE(ROSE)ã€ã¯ãƒ­ãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚³ã‚¹ãƒˆã¯ãã®ã¾ã¾ã«ã‚¹ãƒšãƒ«ãƒŸã‚¹ã‚„èª¤å­—ã‚’è¨±å®¹å¯èƒ½ãªã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚·ã‚¹ãƒ†ãƒ ã‚’ææ¡ˆã€‚
ROSE ã¯ã‚ã‚‰ã‚†ã‚‹ã‚¯ã‚¨ãƒªã®æ„å›³ã€èª¤å­—ã€æ–‡æ³•ãƒŸã‚¹ã«å¯¾ã—ã¦ç†è«–çš„ãªé ‘å¥æ€§ãŒä¿è¨¼ã•ã‚Œã¦ã„ã‚‹ã€‚
ç¾å®Ÿä¸–ç•Œã®ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã«ã‚ˆã‚Š ROSE ã‚’è©•ä¾¡ã—ã¦ã€æœ‰åŠ¹æ€§ã¨åŠ¹çŽ‡ã¯æ¤œè¨¼ã‚’è¡Œã£ãŸã€‚
ROSE ã¯ã™ã§ã« Amazon ã®æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚Œã¦ãŠã‚Šã€æ—¢å­˜ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚·ã‚¹ãƒ†ãƒ ã¨æ¯”è¼ƒã—ã¦ã‚‚å¤§ãããƒ“ã‚¸ãƒã‚¹æŒ‡æ¨™ã‚’æ”¹å–„ã—ã¦ã„ã‚‹ã€‚

## INTRODUCTION

æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã§å¤§äº‹ãªï¼’ã¤ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹æŒ‡æ¨™

- é¡§å®¢åŒ–ã‹ã‚‰ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«å¯¾ã™ã‚‹ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚¿ã‚¤ãƒ 
- é¡§å®¢ã®æ„å›³ã«é©åˆã—ãŸé«˜å“è³ªãªæ¤œç´¢çµæžœ

ç¾ä»£çš„ãªè£½å“æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã§ã¯é€šå¸¸ã€è¨ˆç®—ä¸å¯ãŒé«˜ã„æ©Ÿæ¢°å­¦ç¿’ãƒ¢ãƒ‡ãƒ«ãŒå¤šãä½¿ã‚ã‚Œã¦ã„ã‚‹ã€‚

`NOTE`: [1, 8, 9, 13, 20, 28, 29, 31] ã®å‚è€ƒæ–‡çŒ®ãŒã€æ¤œç´¢æ”¹å–„ã®ãŸã‚ã®æ©Ÿæ¢°å­¦ç¿’é©ç”¨ã®æ–‡çŒ®ãƒªã‚¹ãƒˆã¨ã—ã¦æœ‰ç”¨ãã†ã ã£ãŸã€‚
[18] relevance matching modelsã€‚[2] ranking modelsã€‚[27] query annotation modelsã€‚

ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ã®åˆ¶é™ã¨ã‚³ã‚¹ãƒˆã®è€ƒæ…®ã«ã‚ˆã‚Šã€å®Ÿéš›ã®è£½å“æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã§ã¯ã€è¨ˆç®—ã‚³ã‚¹ãƒˆãŒé«˜ã„æ·±å±¤å­¦ç¿’ãƒ¢ãƒ‡ãƒ«ã‚’ã‚µãƒ¼ãƒ“ãƒ³ã‚°ã—ã¦æ¤œç´¢ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯å…¨ä½“ã‚’å‡¦ç†ã™ã‚‹ã“ã¨ã¯ç¦æ­¢ã•ã‚Œã¦ã„ã‚‹[14]ã€‚ãã®ãŸã‚ã€æ·±å±¤å­¦ç¿’ãƒ¢ãƒ‡ãƒ«ã®æŽ¨è«–çµæžœã‚’ã‚µãƒ¼ãƒ“ãƒ³ã‚°ã™ã‚‹ä»£ã‚ã‚Šã«ã€ã‚ˆã‚Šå®Ÿè·µçš„ãªè§£æ±ºæ–¹æ³•ã¨ã—ã¦é »ç¹ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒãã‚‹ã‚¯ã‚¨ãƒªã«å¯¾ã—ã¦æ·±å±¤å­¦ç¿’ãƒ¢ãƒ‡ãƒ«ã®çµæžœã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã—ã¦ãŠãã€‚

å¾“æ¥ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•ã®å•é¡ŒãŒã‚ã‚‹

ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒŸã‚¹çŽ‡ã¨ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚µã‚¤ã‚ºã®é–¢ä¿‚: å°ã•ã„ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚µã‚¤ã‚ºã§ã¯ã€é«˜ã„ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒŸã‚¹çŽ‡ã¨ãªã‚‹ã€‚ä¸€æ–¹ã§è£½å“æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã®è¦æ¨¡ã§é »ç¹ã«æ¤œç´¢ã•ã‚Œã‚‹ã‚¯ã‚¨ãƒªã«å¯¾ã—ã¦ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ä½œæˆã—ãŸã¨ã—ã¦ç•°å¸¸ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚µã‚¤ã‚ºãŒå¤§ãããªã£ã¦ã—ã¾ã†ã€‚ã¾ãŸã€ â€Nike shoesâ€, â€œNike shoeâ€, and â€œNikeâ€™s shoeâ€ ã®ã‚ˆã†ãªåŒã˜æ„å›³ã®ã‚¯ã‚¨ãƒªã ãŒã€å½¢æ…‹ç´ çš„ã«ã¯ç•°ãªã‚‹ãã‚Œã‚‰ã®ã‚¯ã‚¨ãƒªã¯ã™ã¹ã¦åˆ¥ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¨ã—ã¦ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã‚Œã¦ã—ã¾ã†ã€‚

ã¾ãŸã€ `Query rewrite for null and low search results in eCommerce. In eCOM@ SIGIR.` [24]ã§ã‚‚ç¤ºã•ã‚Œã¦ã„ã‚‹é€šã‚Šã€æ¤œç´¢çµæžœã®å“è³ªã‚’ä¸‹ã’ã¦ã„ã‚‹è¦å› ã®ã»ã¨ã‚“ã©ãŒ èª¤æ¤)ã€‚
ã“ã‚Œã‚‰ã®æ¤œç´¢å“è³ªãŒä½Žã„ã‚¯ã‚¨ãƒªã¯ã€é«˜å“è³ªãªæ¤œç´¢çµæžœã‚’æä¾›ã™ã‚‹é »ç¹ã«æ¤œç´¢ã•ã‚Œã‚‹ã‚¯ã‚¨ãƒªã¨èªžå½™çš„(Lexically) ã¾ãŸã¯æ„å‘³çš„ (semantically)ã«ä¼¼ã¦ã„ã‚‹ã€‚

ã‚ˆã£ã¦ã€ã‚‚ã—æˆ‘ã€…ãŒä½Žå“è³ªãªæ¤œç´¢çµæžœã‚’æä¾›ã™ã‚‹èª¤æ¤ã®ã‚¯ã‚¨ãƒªã‚’ã€åŒã˜æ„å›³ã‚’æŒã¤ã‚¯ã‚¨ãƒªã¸ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°ã®ä»•çµ„ã¿ã«ã‚ˆã‚Šç´ä»˜ã‘ã‚‹(map ã™ã‚‹)ã“ã¨ãŒã§ããŸãªã‚‰ã€æ¤œç´¢å“è³ªã‚’å‘ä¸Šã•ã›ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚ã¾ãŸã€ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ã‚‚å¤§å¹…ã«å‘ä¸Šã•ã›ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚µã‚¤ã‚ºã‚‚å¤§å¹…ã«æŠ‘ãˆã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚

![ROSE Figure 1](/posts/2022-03-03/images/fig-1.png)

Fig. 1: ROSE ã¯æ¤œç´¢å“è³ªã¨æ¤œç´¢é€Ÿåº¦ã‚’å‘ä¸Šã•ã›ã‚‹

- ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ã‚ˆã‚‹ã‚¯ã‚¨ãƒªã®æ›¸ãæ›ãˆ(query rewrite)ã«ã‚ˆã£ã¦æ¤œç´¢å“è³ªã®å‘ä¸Š
- ROSE ãŒå¤§åŠã®é€šä¿¡ã‚’ã‚«ãƒãƒ¼ã™ã‚‹ã“ã¨ã§ã€æ¤œç´¢é€Ÿåº¦ã®å‘ä¸Šã€‚ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆã—ãªã„ã‚ˆã†ãªå°‘æ•°æ´¾ã®ã‚¯ã‚¨ãƒªã«å¯¾ã—ã¦ã¯ã€æ·±å±¤å­¦ç¿’ãƒ¢ãƒ‡ãƒ«ã«ã‚ˆã£ã¦ç›´æŽ¥ã‚µãƒ¼ãƒ“ãƒ³ã‚°ã‚’è¡Œã†ã€‚

### ï¼“ã¤ã®è²¢çŒ®ç‚¹

- é‹ç”¨ã‚·ã‚¹ãƒ†ãƒ : è£½å“æ¤œç´¢ã®ã‚¯ã‚¨ãƒªã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã™ã‚‹ãŸã‚ã®ã€ROSE ã‚’ææ¡ˆã€‚å®šæ•°æ™‚é–“ã¨å®šæ•°ãƒ¡ãƒ¢ãƒªã§ web æ¤œç´¢è¦æ¨¡ã®ãƒ‡ãƒ¼ã‚¿ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ä½œæˆã—ã¦ãƒ«ãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’å®Ÿè¡Œå¯èƒ½
- æŠ€è¡“çš„é©æ–°: local-sensitive hashing, reservoir sampling, count-based k-selection ãªã©è¤‡æ•°ã®å¼·åŠ›ãªä¹±æŠžã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ æŠ€è¡“ã‚’çµ„ã¿åˆã‚ã›ãŸã‚·ã‚¹ãƒ†ãƒ ã‚’é–‹ç™ºã€‚ã“ã‚Œã«ã‚ˆã‚Šã€å®šæ•°æ™‚é–“ã§ã®æ¤œç´¢ã‚’ç¶­æŒã—ãªãŒã‚‰ ROSE ã‚’å¤§è¦æ¨¡ãªã‚¯ã‚¨ãƒªã‚»ãƒƒãƒˆã«ã‚¹ã‚±ãƒ¼ãƒ«ã‚¢ãƒƒãƒ—ãŒå¯èƒ½ã«ãªã£ãŸã€‚
- ç¾å®Ÿä¸–ç•Œã§ã®åŠ¹æžœ: Amazon æ¤œç´¢ã« ROSE ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ãŠã‚Šã€æ—¢å­˜æ‰‹æ³•ã¨æ¯”ã¹ã¦ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹ã€ãƒ“ã‚¸ãƒã‚¹æŒ‡æ¨™ã¨ã‚‚ã«æ”¹å–„ã•ã‚ŒãŸã€‚

## BACKGROUND AND RELATED WORK

### Robust Cashes

æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã‚„ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãªã©å¿œç­”é€Ÿåº¦ãŒã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãªã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã¯ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¯ã¨ã¦ã‚‚æœ‰åŠ¹ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒã€‚
hash-tables ã¨ Bloom fillters ã«ã‚ˆã£ã¦ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¯å®Œå…¨ä¸€è‡´ã«ã‚ˆã‚‹ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãªã©ãŒè€ƒæ¡ˆã•ã‚Œã¦ã„ã‚‹[16]ã€‚
ã ãŒå®Œå…¨ä¸€è‡´ã«æ³¨ç›®ã—ã¦ã„ã‚‹ãŸã‚èª¤æ¤ã«å¼±ãå¾“æ¥ã®å®Œå…¨ä¸€è‡´ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã§ã¯ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆçŽ‡ãŒä½Žããªã£ã¦ã—ã¾ã†ã€‚
é€†ã«å¾“æ¥ã®å˜èªžã®ã‚†ã‚‰ãŽã«é ‘å¥(ãƒ­ãƒã‚¹ãƒˆ)ãªã‚­ãƒ£ãƒƒã‚·ãƒ¥æ‰‹æ³•ã¯ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®æ–‡å­—åˆ—ã®é¡žä¼¼è·é›¢ã‚’è¨ˆç®—ã™ã‚‹ã‚³ã‚¹ãƒˆãŒéžå¸¸ã«é«˜ã‹ã£ãŸã€‚

å®šæ•°æ™‚é–“ã¨å®šæ•°ãƒ¡ãƒ¢ãƒªã§å®Ÿè¡Œå¯èƒ½ãªãƒ­ãƒã‚¹ãƒˆãªã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ä»•çµ„ã¿ã§ã‚ã‚‹ã€ŒROSEã€ææ¡ˆã™ã‚‹ã€‚

### Locality-Sensitive Hasing

LSH ã®è§£èª¬è³‡æ–™ã¯ã“ã¡ã‚‰ã®è³‡æ–™ãŒã‚ã‹ã‚Šã‚„ã™ã‹ã£ãŸã€‚

[Locality Sensitive Hashing](https://www.slideshare.net/yaruki_nil/lsh)

ä»–ã«ã‚‚ LSH ã®ç™ºå±•å½¢ã¨ã—ã¦ Jaccard é¡žä¼¼åº¦ã‚’ä½¿ã£ãŸ LSH ã§ã‚ã‚‹ Minwise Hasing(MinHash) ã‚„ Densified One Permutation Hashing (DOPH) ãªã©ã‚‚ç´¹ä»‹ã•ã‚Œã¦ã„ãŸã€‚

`NOTE`: æ™‚é–“ãŒè¶³ã‚Šãªã„ã®ã§ä¸€æ—¦æ·±ã„è§£èª¬ã¯å‰²æ„›ã™ã‚‹ã€‚ã“ã“ã‚‰ã¸ã‚“ã¯è‡ªåˆ†ã®çŸ¥è­˜ãŒæµ…ã„éƒ¨åˆ†ãªã®ã§ã¡ã‚ƒã‚“ã¨ç†è§£ã—ã¦ãŠããŸã„ã€‚

### å•é¡Œã®å®šå¼åŒ–

![ROSE Figure 2](/posts/2022-03-03/images/fig-2.png)

ROSE ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯è§£èª¬

1. ã‚¯ã‚¨ãƒªã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‹ã‚‰ãƒ­ãƒã‚¹ãƒˆãªã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ç”Ÿæˆ
1. ã‚ªãƒ³ãƒ©ã‚¤ãƒ³æ¤œç´¢: å…¥åŠ›ã•ã‚ŒãŸã‚¯ã‚¨ãƒªã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ä¸Šã®åˆ¥ã®ã‚¯ã‚¨ãƒªã«ãƒžãƒƒãƒ”ãƒ³ã‚°ã™ã‚‹

## ROSE: ROBUST CACHE VIA RANDOMIZED HASHING

### ROSE Index Generation

ROSE ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ç”Ÿæˆæ™‚ã«ã¯ï¼’ã¤ã®æ¡ä»¶

- èª¤æ¤ã‚„æ„å‘³çš„ã«åŒã˜ã ãŒç•°ãªã‚‹ã‚¯ã‚¨ãƒªã§ã‚‚ãƒ­ãƒã‚¹ãƒˆãªæ€§èƒ½ã®ãŸã‚ã«ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ãƒ«ãƒƒã‚¯ã‚¢ãƒƒãƒ—æ™‚ã«å…¥åŠ›ã‚¯ã‚¨ãƒªã®é¡žä¼¼åº¦ã‚’è¨ˆç®—ã—ã¦ãƒžãƒƒãƒ—ã™ã‚‹
- å¤§è¦æ¨¡ãªè£½å“æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ãªã®ã§ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚µã‚¤ã‚ºã¯ã‚¯ã‚¨ãƒªã®é‡ã«å¿œã˜ã¦ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã™ã‚‹ã“ã¨ã‚’å›žé¿ã™ã‚‹å¿…è¦ãŒã‚ã‚‹

LSH ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã§ã¯ã€ãƒ‡ãƒ¼ã‚¿ã®è¦æ¨¡ã«å¯¾ã—ã¦ç·šå½¢ã«ãƒãƒƒã‚·ãƒ¥ãƒ†ãƒ¼ãƒ–ãƒ«ã®ã‚µã‚¤ã‚ºãŒå¢—åŠ ã™ã‚‹èª²é¡ŒãŒã‚ã‚‹[23]ã€‚
ã“ã®èª²é¡Œã¯ web è¦æ¨¡ã®ãƒ‡ãƒ¼ã‚¿ã‚’æ‰±ã†ã¨å®¹æ˜“ã«ãƒ¡ãƒ¢ãƒªãŒçˆ†ç™ºã‚’å¼•ãèµ·ã“ã™ã€‚
ãã®èª²é¡Œã‚’è§£æ±ºã™ã‚‹ãŸã‚ã« reservoir sampling algorithm[25] ã‚’ä½¿ã£ã¦è§£æ±ºã—ã¦ã„ã‚‹ã€‚

reservoir sampling algorithm ã®æ—¥æœ¬èªžã®è§£èª¬è¨˜äº‹ã¯ã“ã¡ã‚‰

[å¤§é‡ã®ãƒ†ã‚­ã‚¹ãƒˆã‹ã‚‰ãƒ©ãƒ³ãƒ€ãƒ ã«å°‘æ•°ã®è¡Œã‚’æŠ½å‡ºã—ãŸã„ - Reservoir Sampling](https://sucrose.hatenablog.com/entry/2014/01/11/004615)

`NOTE`: ã“ã“å®Œå…¨ã«ç†è§£ä¸è¶³ãªã®ã§è¨€è‘‰ã ã‘ç†è§£ã€‚

![ROSE Alg 1](/posts/2022-03-03/images/alg-1.png)

B ã¯ãƒãƒƒã‚·ãƒ¥ãƒ†ãƒ¼ãƒ–ãƒ«ãƒãƒƒã‚·ãƒ¥ãƒ†ãƒ¼ãƒ–ãƒ«ã®ãƒã‚±ãƒƒãƒˆã®æ•°ã€Iq ã¯ãƒãƒƒã‚·ãƒ¥é–¢æ•°ã«ã‚ˆã‚Šç”Ÿæˆã•ã‚ŒãŸã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã€‚
Rand(0,B)ã¯-ã‹ã‚‰ B ã¾ã§ã®ä¹±æ•°ã‚’ç”Ÿæˆã™ã‚‹é–¢æ•°ã€‚

### ROSE Online Retrieval

ã‚¯ã‚¨ãƒªãŒå…¥åŠ›ã•ã‚ŒãŸéš›ã«ã€ROSE ã¯ Count-based ð‘˜-selection [15]ã¨ã„ã†æ‰‹æ³•ã‚’ä½¿ã£ã¦ã€è¨ˆç®—ã‚³ã‚¹ãƒˆã®é«˜ã„ 2 ç‚¹é–“ã®é¡žä¼¼åº¦(pairwise-similarity)ã®è¨ˆç®—ã‚’é¿ã‘ã¦ã„ã‚‹ã€‚
ROSE ã®ã‚ªãƒ³ãƒ©ã‚¤ãƒ³æ¤œç´¢ãŒå®šæ•°æ™‚é–“ã§çµ‚ã‚ã‚‹ã“ã¨ã¯ã€`3.5 Theoretical Analysis`ã«ã¦è§£èª¬ã€‚

### Lexical Preserving Hashing

Lexical Preserving Hashing ã¯èªžå½™çš„ãªé¡žä¼¼åº¦ã‚’ä¿æŒã—ãŸãƒãƒƒã‚·ãƒ¥æ‰‹æ³•ã‚’æŒ‡ã™ã€‚
ã‚¯ã‚¨ãƒªé–“ã®é¡žä¼¼åº¦ã¯ Jacard é¡žä¼¼åº¦ã‚’ä½¿ã£ã¦è¨ˆç®—ã™ã‚‹ã€‚(ã¤ã¾ã‚‹ã¨ã“ã‚ minhash?)
å®Ÿéš›ã«è¨ˆç®—ã™ã‚‹éš›ã«ã¯ DOPS ã‚’ä½¿ã£ã¦ minhash ã‚’ç®—å‡ºã™ã‚‹ã€‚

ROSE ã«ã‚ˆã‚‹èª¤æ¤ä¿®æ­£ã®ãŸã‚ã® Lexical Preserving Hashing ã«ã‚ˆã‚‹ãƒžãƒƒãƒ”ãƒ³ã‚°ä¾‹: ã€Œred nike shoosã€ â†’ ã€Œred nike shoesã€

### Product Type Preserving Hashing

è£½å“æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã§ã¯ã€ã‚¯ã‚¨ãƒªã®è£½å“ã‚¿ã‚¤ãƒ—ã‚’ç†è§£ã™ã‚‹ã“ã¨ãŒé–¢é€£ã—ãŸé«˜å“è³ªãªæ¤œç´¢çµæžœã‚’æä¾›ã™ã‚‹ãŸã‚ã«ã¨ã¦ã‚‚é‡è¦ã§ã‚ã‚‹ã€‚

å…·ä½“ä¾‹: ã€Œred nike shoesã€ ã®ã‚¯ã‚¨ãƒªã®è£½å“ã‚¿ã‚¤ãƒ—ã¯ ã€ŒSHOESã€

ã“ã“ã§è£½å“ã‚¿ã‚¤ãƒ—ã‚’ã‚¯ã‚¨ãƒªã‹ã‚‰æŠ½å‡ºã™ã‚‹ãŸã‚ã«ã€ã‚¯ã‚¨ãƒªã®ãƒˆãƒ¼ã‚¯ãƒ³ã«å¯¾ã—ã¦è£½å“ã‚¿ã‚¤ãƒ—ã®é‡ã¿ã‚’è¨ˆç®—ã™ã‚‹ã€‚è£½å“ã‚¿ã‚¤ãƒ—ã®ãƒˆãƒ¼ã‚¯ãƒ³ã¯ `QUEACO: Borrowing Treasures from Weakly-labeled Behavior Data for Query Attribute Value Extraction`[30] ã¨ã„ã† NER ãƒ¢ãƒ‡ãƒ«ã«ã‚ˆã£ã¦æŠ½å‡ºã•ã‚Œã‚‹ã€‚

è£½å“ã‚¿ã‚¤ãƒ—ãƒˆãƒ¼ã‚¯ãƒ³ãŒå­˜åœ¨ã—ãªã‹ã£ãŸå ´åˆã®é‡ã¿ã¯ 1ã€1 ã‚ˆã‚Šä»¥ä¸Šã®å ´åˆã¯è£½å“ã‚¿ã‚¤ãƒ—ãƒˆãƒ¼ã‚¯ãƒ³ãŒæŠ½å‡ºã§ããŸã“ã¨ã«ãªã‚‹ã€‚
è£½å“ã‚¿ã‚¤ãƒ—ãƒˆãƒ¼ã‚¯ãƒ³ã®é‡ã¿ä»˜ã‘ã¯ W >1 ã§ä¸Žãˆã€ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ã—ãŸçµæžœ W=10 ãŒæœ€ã‚‚çµæžœãŒè‰¯å¥½è£½å“ã‚¿ã‚¤ãƒ—ãƒˆãƒ¼ã‚¯ãƒ³ã¯ W ã¨ã„ã†ã—ãã„å€¤ã§ç®¡ç†ã•ã‚Œã‚‹ã€‚

### Theoretical Analysis

ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®ç†è«–è§£æžã«ã¤ã„ã¦ã€‚
ã ãŒã€çŸ¥è­˜ãŒã¾ã£ãŸããªã„ã®ã§ã€å‰²æ„›ã™ã‚‹ã“ã¨ã«ã—ãŸã€‚

## ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã§ã®å®Ÿé¨“

### ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆ

ç´„ 6 å„„ã®æ¤œç´¢å“è³ªãŒé«˜ã„ã‚¯ã‚¨ãƒªã‚’ Amazon æ¤œç´¢ã‹ã‚‰ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ã—ã¦ã€è©•ä¾¡ã®ãŸã‚ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥å¯¾è±¡ã«ã™ã‚‹ã€‚
ã“ã“ã§ã¯ã€Xichuan ã‚‰ `A Dual Heterogeneous Graph Attention Network to Improve Long-Tail Performance for Shop Search in E-Commerce. In Proceedings of the 26th ACM SIGKDD International Conference on Knowledge Discovery & Data Mining. 3405â€“3415` [19]ã¨åŒã˜è©•ä¾¡ã®æž çµ„ã¿ã§è©•ä¾¡ã‚’è¡Œã£ãŸã€‚

ã‚¯ã‚¨ãƒªã®è©•ä¾¡ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã¯é »åº¦ã”ã¨ã«åˆ†å‰²ã•ã‚ŒãŸï¼“ã¤ã®ãƒã‚±ãƒƒãƒˆã‚’ç”¨æ„

- `NQ`(Normal Queries): é »åº¦ãŒä¸Šä½ 33%(1 ã¤ã‚ã® 3 åˆ†ä½æ•°)ã®ã‚¯ã‚¨ãƒª
- `HQ`(Hard queries): é »åº¦ãŒä¸Šä½ 34%-66% (1 ã¤ã‚ã® 3 åˆ†ä½æ•°)ã®ã‚¯ã‚¨ãƒª
- `LTQ`(Long-tail queries): é »åº¦ãŒä¸Šä½ 67%-100% (3 ã¤ã‚ã® 3 åˆ†ä½æ•°)ã®ã‚¯ã‚¨ãƒª

ãƒ©ãƒ³ãƒ€ãƒ ã«ä¸Šè¨˜ã®ã‚¯ã‚¨ãƒªã‚’ä¸€ãƒ¶æœˆä»¥ä¸Šã®æ¤œç´¢ãƒ­ã‚°ã‹ã‚‰é¸æŠžã—ã¦åŽé›†ã™ã‚‹ã€‚ï¼“ã¤ã®ãƒã‚±ãƒƒãƒˆã¯ 1000 ã®ã‚¯ã‚¨ãƒªãŒå­˜åœ¨ã—ã¦ã‚‹ã€‚ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆã«ã‚ˆã‚‹åˆ¤æ–­ã«ã‚ˆã‚Šã€ROSE ã®ä»•çµ„ã¿ã«ã‚ˆã‚Š re-map ã•ã‚ŒãŸçµæžœãŒå…ƒã®ã‚¯ã‚¨ãƒªãŒæ›¸ãæ›ãˆã‚‰ã‚Œã¦ã‚‚æ„å›³ãŒåŒä¸€ã‹ã©ã†ã‹ã® 2 å€¤(relevant or irrelevant)ã«ã‚ˆã£ã¦è©•ä¾¡ã€‚

### å®Ÿé¨“ãƒ‡ã‚¶ã‚¤ãƒ³

ï¼’ã¤ã®æŒ‡æ¨™ã«å¯¾ã™ã‚‹ä»®è¨­

- Robustness: ã©ã‚Œãã‚‰ã„ ROSE ã¯æ­£ç¢ºã‹?
- Efficnency: ã©ã‚Œãã‚‰ã„ ROSE ã®ã‚¤ãƒ³ãƒ‡ã‚­ã‚·ãƒ³ã‚°ã¨æ¤œç´¢å‡¦ç†ã¯åŠ¹çŽ‡çš„ã‹?

ãã‚Œã‚‰ã®ä»®è¨­æ¤œè¨¼ã®ãŸã‚ã«

- `R-LP`: ææ¡ˆæ‰‹æ³•ã€‚ROSE ã® lecical preserving hasingã€‚ ãƒãƒƒã‚·ãƒ¥ãƒ†ãƒ¼ãƒ–ãƒ«ã®æ•°ã¯ L=3 6 ã‹ã¤ã€ãƒãƒƒã‚·ãƒ¥ã®æ•°ã¯ $K=3$
- `R-PT`: ææ¡ˆæ‰‹æ³•ã€‚ROSE ã® product type preserving hasing
- `EC`: å®Œå…¨ä¸€è‡´ã«ã‚ˆã‚‹ã‚­ãƒ£ãƒƒã‚·ãƒ¥å®Ÿè£…
- `BF`: ROSE ã®æ¤œç´¢ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’åŠ›ã¾ã‹ã›æŽ¢ç´¢ã«ç½®ãæ›ãˆãŸæ‰‹æ³•ã€‚é¡žä¼¼åº¦ã®å°ºåº¦ã¨ã—ã¦ DP ã‚’ä½¿ã£ã¦ç·¨é›†è·é›¢ã‚’è¨ˆç®—ã™ã‚‹ã€‚
- `FC`: [FAISS](https://arxiv.org/abs/1702.08734) ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’ä½¿ã£ã¦ ROSE ã®ã‚¤ãƒ³ãƒ‡ã‚­ã‚·ãƒ³ã‚°ã¨æ¤œç´¢ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’ç½®ãæ›ãˆãŸæ‰‹æ³•ã€‚ã‚¯ã‚¨ãƒªã®åŸ‹ã‚è¾¼ã¿ç©ºé–“ã¯ [Semantic Product Search](https://arxiv.org/abs/1907.00937) ã‚’ä½¿ã£ã¦ç”¨æ„ã€‚

è©•ä¾¡æŒ‡æ¨™ã¨ã—ã¦ã¯ã€ä¸€èˆ¬çš„ãª Precision, Recall, F1 ã‚’æŽ¡ç”¨ã€‚

å„æŒ‡æ¨™ã®å…·ä½“ä¾‹ã¨ã—ã¦ã¯ã€
ä¾‹ãˆã°ã€Œred nike shoesã€ã¨ã„ã† original intent ã¨ãªã‚‹ã‚¯ã‚¨ãƒªãŒå­˜åœ¨ã™ã‚‹ã¨ã™ã‚‹ã€‚ã“ã®ã€Œred nike shoesã€ã¨ original intent ã¯åŒä¸€ã ãŒã€èªžå½™çš„ãªèª¤ã‚Šã«ã‚ˆã£ã¦ã€Œred nike shoosã€ã€ã€Œred nike shooesã€ãªã©ã®ã‚¯ã‚¨ãƒªãŒå­˜åœ¨ã™ã‚‹ã€‚

ã“ã‚Œã‚‰ã€ã€Œred nike shoesã€ã‚’ original intent ã¨ã™ã‚‹ã‚¯ã‚¨ãƒªæ•°ãŒ 20 ä»¶ã‚ã‚Šã€ä»¥ä¸‹ã®ã‚ˆã†ãªåˆ†å¸ƒã«ãªã£ã¦ã„ã‚‹ã€‚

- ã€Œred nike shoesã€: 10 ä»¶
  - ã€Œred nike shoosã€: 5 ä»¶
  - ã€Œred nike shooesã€: 5 ä»¶

ä¾‹ãˆã°ã€å®Œå…¨ä¸€è‡´ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã§ã¯ã€ã€Œred nike shoesã€ã¨ã†æ–‡å­—åˆ—ã«å¯¾ã—ã¦ lool up ã‚’è¡Œã„ã€

- precision: 100%
- recall: 50%

ã¨ãªã‚‹ã€‚

ãã—ã¦ã€ROSE-LP ãŒ ã€Œred nike shoosã€ã‚’ã€Œred nike shoesã€ã«å¯¾ã—ã¦ map ãŒã§ããŸã¨ã™ã‚‹ã€‚(ã€Œred nike shooesã€ã® map ã¯å¤±æ•—)

- precision: 100%
- recall: 75%

ã¨ãªã‚‹ã€‚

ä¸Šè¨˜ã®ã‚ˆã†ã«èª¤æ¤ãŒå«ã¾ã‚Œã‚‹ã‚¯ã‚¨ãƒªã‚’ã©ã‚Œã ã‘å„ç¨®æ‰‹æ³•ã§æ›¸ãæ›ãˆã‚‹ã“ã¨ãŒã§ããŸã‹ãŒã€è©•ä¾¡æŒ‡æ¨™ã¨ãªã£ã¦ã„ã‚‹ã€‚

#### å…¨ä½“ã‚’é€šã—ãŸå®Ÿé¨“çµæžœ

##### æ¤œç´¢æ€§èƒ½

![ROSE Table 1](/posts/2022-03-03/images/table-1.png)

NQ, HQ ã«å¯¾ã—ã¦ã¯ ROSE-PT ãŒæœ€ã‚‚æ€§èƒ½ãŒè‰¯ãã€LTQ ã«å¯¾ã—ã¦ã¯ ROSE-LP ã®æ€§èƒ½ãŒè‰¯ã‹ã£ãŸã€‚

##### ã‚·ã‚¹ãƒ†ãƒ æ€§èƒ½

ROSE-LP ã¯ 60m ã§ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ç”Ÿæˆã‚’å®Œäº†ã€‚ROSE-PT ã¯ 75mã€‚

`NOTE`: è«–æ–‡ä¸­ã ã¨ã‚·ã‚¹ãƒ†ãƒ æ€§èƒ½ã¨ã—ã¦ã‚‚æ€§èƒ½ãŒè‰¯ã„ã¨æ›¸ã„ã¦ã‚ã‚‹ãŒã€ä»–ã®æ‰‹æ³•ã®ã»ã†ãŒæ—©ã„ã®ã§ã“ã®æ›¸ãæ–¹ã¯å®Ÿéš›ã©ã†ãªã‚“ã ã‚ã†ã€‚ã¨æ€ã„ã¤ã¤ã‚‚ã€æ¤œç´¢æ€§èƒ½ãŒã“ã‚Œã ã‘ä¸ŠãŒã£ã¦ cache index ä½œæˆã‚‚ 65m ã ã‘ã§ä½ã‚“ã§ã„ã‚‹ãªã‚‰å…¨ãå•é¡Œãªã„ã¨ã¯æ€ã†ã€‚

æ¤œç´¢é¢ã§ã¯ã€åŠ›ã¾ã‹ã›æŽ¢ç´¢ã ã¨ 65m(ms ã§ã¯ãªã„)æ¤œç´¢ã«æ™‚é–“ãŒã‹ã‹ã‚‹ã‚‰ã—ã„ã®ã§ã€ä½¿ã„ç‰©ã«ãªã‚‰ãªã•ãã†ã€‚FAISS ãŒ 120ms å¿…è¦ãªä¸­ã§ ROSE ã¯ LP, PT ã¨ã‚‚ã« 3ms ä»¥ä¸‹ã¨ã„ã†é©šç•°çš„ãªé€Ÿåº¦ã€‚

![ROSE Figure 3](/posts/2022-03-03/images/fig-3.png)

å›³ 3 ã§ã¯ã€ROSE ãŒæ‹…ã£ã¦ã„ã‚‹ï¼’ã¤ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è§£èª¬ã€‚

- (a) èª¤æ¤ã®å•é¡Œã‚’è§£æ±ºã™ã‚‹ã‚¯ã‚¨ãƒªæ›¸ãæ›ãˆã€‚ã€Œnike shoosã€ã¨ã„ã†èª¤æ¤ã®ã‚¯ã‚¨ãƒªãŒæ¥ãŸéš›ã«ã€ã€Œnike shoesã€ã«æ›¸ãæ›ãˆ
- (b) æ·±å±¤å­¦ç¿’ãƒ¢ãƒ‡ãƒ«é«˜é€ŸåŒ–ã®ãŸã‚ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ä¸Šã§ã®è£½å“ã‚¿ã‚¤ãƒ—äºˆæ¸¬ã€‚Cash Hit ã—ãŸå ´åˆã€ROSE ã«ã‚ˆã£ã¦ã‚¯ã‚¨ãƒª(q)ã®è£½å“ã‚¿ã‚¤ãƒ—(PT)ã‚’è¿”ã™ã€‚ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆã—ãªã‹ã£ãŸå ´åˆã¯ã€æ·±å±¤å­¦ç¿’ãƒ¢ãƒ‡ãƒ«ã«ã‚ˆã£ã¦ã‚¯ã‚¨ãƒªã«è£½å“ã‚¿ã‚¤ãƒ—ã®æŽ¨è«–ã‚’è¡Œã„ã€è¿”ã™ã€‚

## SYSTEM DEPLOYMENT IN AMAZON

### ROSE for Query Rewrite

é¡§å®¢ãŒèª¤æ¤ã«ã‚ˆã‚‹ã‚¯ã‚¨ãƒªã‚¯ã‚¨ãƒªã‚’å…¥åŠ›ã—ã¦ããŸéš›ã«ã‚¯ã‚¨ãƒªæ›¸ãæ›ãˆã‚’è¡Œã†ãŸã‚ã«å®Ÿéš›ã« ROSE ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã€‚ä½¿ã£ãŸæ‰‹æ³•ã¯ ROSE-LPã€‚ã“ã‚Œã«ã‚ˆã£ã¦ã€æ¤œç´¢çµæžœãŒãã‚‚ãã‚‚ä½Žå“è³ªãªã‚¯ã‚¨ãƒªãŒé«˜å“è³ªãªæ¤œç´¢çµæžœã¨ã—ã¦æç¤ºã•ã‚Œã‚‹ã‚ˆã†ã«ãªã£ãŸã€‚

ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã®ã‚¯ã‚¨ãƒªæ›¸ãæ›ãˆã®çµæžœã¯ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆã«ã‚Šæ¸¬å®šãƒ»è©•ä¾¡ã•ã‚Œã€è‰¯å¥½ãªçµæžœã¨ãªã£ãŸã€‚
ã¾ãŸã€è¤‡æ•°ã®ãƒ“ã‚¸ãƒã‚¹æŒ‡æ¨™ã‚‚æœ‰æ„ã«æ”¹å–„ã•ã‚ŒãŸã€‚

![ROSE Table 2](/posts/2022-03-03/images/table-2.png)

`NOTE`: CTR +7%ã£ã¦ã™ã”ããªã„ã§ã™ã‹...? ä»Šã¾ã§ã‚‚ã€Amazon ãªã®ã§ã‚‚ã¡ã‚ã‚“ Query Understanding ã«å–ã‚Šçµ„ã‚“ã§ã„ãŸã¨æ€ã†ã‚“ã ãŒã€å¾“æ¥ã®ã‚¯ã‚¨ãƒªæ›¸ãæ›ãˆã‚ˆã‚Šã‚‚æ›´ã«è‰¯ããªã£ãŸã¨ã„ã†ã“ã¨ã ã‚ã†ã‹?å®Ÿéš›ã¯ ROSE ã«ã‚ˆã£ã¦æ¤œç´¢ã®å¿œç­”é€Ÿåº¦ã‚‚æ”¹å–„ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€å¤‰æ•°ã¯ï¼’ã¤ã¨ãªã‚Šé›£ã—ã„ã¨ã“ã‚ã§ã¯ã‚ã‚‹ã€‚ ã¾ãŸã€Amazon ã®è¦æ¨¡ã§ã®åˆ©ç›Š 0.42% ä¸Šæ˜‡ã£ã¦åŠç«¯ãªã„ã§ã™ã­ã€‚æ·±å±¤å­¦ç¿’ãƒ¢ãƒ‡ãƒ«ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã§ã‚‚ã‚ã‚‹ã®ã§ã€ç‰¹å¾´é‡ã®å‰å‡¦ç†æ”¹å–„ã«ã‚‚ãªã£ã¦ã„ã‚‹ã“ã¨ã«æ°—ãŒã¤ã„ãŸã€‚

### ROSE for Product Type Annotation

ã€Œred nike shoesã€ã®ã‚ˆã†ãªã‚¯ã‚¨ãƒªã¯ã€ã‚¯ã‚¨ãƒªã‹ã‚‰æ­£ã—ã„è£½å“ã‚¿ã‚¤ãƒ—ã‚’ç‰¹å®šã™ã‚‹ã“ã¨ã§ã€æ­£ã—ã„è£½å“ã‚’æ¤œç´¢ã§ããŸã‚Šã€è£½å“ã‚¿ã‚¤ãƒ—ã«ã‚ˆã£ã¦æ¤œç´¢çµæžœã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã€‚

500 ä¸‡-1000 ä¸‡ã®è¦æ¨¡ã®é«˜é »åº¦ãªã‚¯ã‚¨ãƒªã«å¯¾ã—ã¦ã€ã‚¯ã‚¨ãƒªã‹ã‚‰ç‰¹å®šã®è£½å“ã‚¿ã‚¤ãƒ—ã¸ãƒžãƒƒãƒ”ãƒ³ã‚°ã™ã‚‹ ROSE ã‚’å®Ÿè£…ã€‚

ROSE ã¯å—ã‘å–ã£ãŸ tail query ã«å¯¾ã—ã¦ã€ãã®ã‚¯ã‚¨ãƒªã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã‚ŒãŸã„ãã¤ã‹ã®ã‚¯ã‚¨ãƒªã«ãƒžãƒƒãƒ”ãƒ³ã‚°ã—ã€ãã®ã‚¯ã‚¨ãƒªã¨ç´ä»˜ã„ã¦ã„ã‚‹è£½å“ã‚¿ã‚¤ãƒ—ã‚’ tail query ã®è£½å“ã‚¿ã‚¤ãƒ—ã®äºˆæ¸¬çµæžœã¨ã—ã¦ä½¿ç”¨ã™ã‚‹ã€‚

æ¤œç´¢ä½“é¨“ã¸ã®å½±éŸ¿ã‚’è©•ä¾¡ã™ã‚‹ãŸã‚ã€ROSE ã®å•†å“ã‚¿ã‚¤ãƒ—äºˆæ¸¬ãƒ¢ãƒ‡ãƒ«ã‚’ç”¨ã„ã¦ã€èª¤ã£ãŸå•†å“ã‚¿ã‚¤ãƒ—ã‚’æŒã¤ç„¡é–¢ä¿‚ãªæ¤œç´¢çµæžœã‚’ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã—ã€ã“ã®ã‚·ã‚¹ãƒ†ãƒ ã‚’ Amazon.com ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—å•†å“æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã«ãŠã„ã¦ã€ROSE ã«ã‚ˆã‚Šå•†å“ã‚¿ã‚¤ãƒ—ã‚’èªè­˜ã—ãŸå ´åˆã¨ã—ãªã„å ´åˆã®æ¤œç´¢çµæžœã®ä¸å…·åˆçŽ‡(Defects Rate)ã‚’æ¸¬å®šã€‚

è£½å“ã‚¿ã‚¤ãƒ—ä¸è‰¯çŽ‡(Product type defect rate)ã¨ã¯ã€æ¤œç´¢çµæžœã®ä¸Šä½ 16 ä»¶ã«å«ã¾ã‚Œã‚‹å•†å“ã®ã†ã¡ã€è£½å“ã‚¿ã‚¤ãƒ—ãŒèª¤ã£ã¦ã„ã‚‹æ•°ã¨ã—ã¦å®šç¾©ã€‚

![ROSE Table 2](/posts/2022-03-03/images/table-2.png)

è¡¨ 2 ã‚ˆã‚Šã€ROSE ã«ã‚ˆã‚‹è£½å“ã‚¿ã‚¤ãƒ—ã‚’äºˆæ¸¬ã™ã‚‹ã“ã¨ã§ã€æ¬ é™¥çŽ‡ãŒ 1.7%æ¸›å°‘ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ã‚¯ã‚¹ãƒšãƒªã‚¨ãƒ³ã‚¹ãŒå¤§å¹…ã«æ”¹å–„ã•ã‚ŒãŸã“ã¨ãŒã‚ã‹ã‚‹ã€‚

![ROSE Fig 4](/posts/2022-03-03/images/fig-4.png)

å›³ 4 ã§ã¯ ROSE ã«ã‚ˆã£ã¦äºˆæ¸¬ã•ã‚ŒãŸè£½å“ã‚¿ã‚¤ãƒ—ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚’é€šã—ãŸçµæžœã®é•ã„ãŒç¤ºã•ã‚Œã¦ã„ã‚‹ã€‚

`NOTE`: ã§ã‚‚ã“ã®éƒ¨åˆ†ã§ã¯ãƒ“ã‚¸ãƒã‚¹æŒ‡æ¨™ã«ã¤ã„ã¦è§¦ã‚Œã¦ã„ãªã„ã¨ã„ã†ã“ã¨ã¯ã€æ¬ é™¥çŽ‡ã—ã‹æ”¹å–„ã—ãªã‹ã£ãŸã®ã‹ãªã¨é‚ªæŽ¨ã—ãŸã€‚(ãã‚Œã§ã‚‚ååˆ†å‡„ã„ã‘ã©)

---

ç¤¾å†…ã®æ¤œç´¢å‹‰å¼·ä¼šã®ç™ºè¡¨é †ãŒå›žã£ã¦ããŸã®ã§ã€æœ€è¿‘è¦‹ã¤ã‘ãŸé¢ç™½ãã†ãªè«–æ–‡ã§ã‚ã‚‹ ROSE ã‚’èª­ã‚“ã§ã¿ãŸã€‚
èª­ã‚“ã§ã„ã¦éžå¸¸ã«é¢ç™½ã„è«–æ–‡ã§æ‰‹æ³•ã‚‚ã•ã‚‹ã“ã¨ãªãŒã‚‰ãƒ“ã‚¸ãƒã‚¹æŒ‡æ¨™ã‚‚ãƒªãƒ•ãƒˆã•ã›ã¦ã„ã‚‹ã®æœ¬å½“ã«ã™ã”ã„ã—ã€ä¾¡å€¤ãŒã‚ã‚Šã¾ã™ã­ã€‚
ã“ã®æˆæžœã‚’å…¬é–‹ã—ã¦ãã‚ŒãŸ Amazon ã«æ„Ÿè¬

é¢ç™½ã„è«–æ–‡ã¯ã€å¼•ç”¨ã™ã‚‹è«–æ–‡ã‚‚ã‚¤ã‚±ã¦ã„ã‚‹ã®ã§å‘¨è¾ºçŸ¥è­˜ã‚’æ·±å €ã‚Šã—ãŸã„éš›ã«è¾žæ›¸çš„ã«ä½¿ãˆã‚‹ã®ã‚‚ã‚ã‚ŠãŒãŸã„ã€‚

ã‚¯ã‚¨ãƒªã®æ›¸ãæ›ãˆã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥(ROSE)ã«æ­è¼‰ã—ã¦ã€ã‚·ã‚¹ãƒ†ãƒ çš„ã«å¯†çµåˆã«ãªã£ãŸã‚Šã€é‹ç”¨é¢ã§å¤§å¤‰ã«ãªã£ãŸã‚Šã—ãªã„ã®ã‹ãªã¨æ€ã„ã¤ã¤ã‚‚ã€ã“ã‚Œã ã‘æ€§èƒ½ãŒè‰¯ã„ã®ãªã‚‰ãã‚Œã‚‰ã‚’è£œã£ã¦è‰¯ã„äº‹ã ã‚‰ã‘ã§ã¯ã¨æ„Ÿã˜ãŸã€‚

æŒ¯ã‚Šè¿”ã£ã¦ã¿ã‚‹ã¨æœ€è¿‘ Amazon ãŒå…¬é–‹ã—ã¦ãã‚Œã¦ã„ã‚‹æ¤œç´¢ãƒã‚¿ã‚’ä»Šå›žå«ã‚ã¦ 3 é€£ç¶šã§èª­ã‚“ã§è§£èª¬ã—ã¦ã„ãŸãŒ

- [Daria Sorokina ã•ã‚“ã«ã‚ˆã‚‹ã€ Amazon ã®æ¤œç´¢ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã«ã¤ã„ã¦ at MLconf SF 2016](https://shunyaueta.com/posts/2021-12-26/)
- [Amazon ãŒ e ã‚³ãƒžãƒ¼ã‚¹æ¤œç´¢ã‚’ Lucene ã«ã‚ˆã‚Šã€ã©ã†ã‚¹ã‚±ãƒ¼ãƒ«ã•ã›ã¦ã„ã‚‹ã‹ at Berlin Buzzwords 2019](https://shunyaueta.com/posts/2021-11-26/)

ãã‚Œãã‚‰ã„é¢ç™½ã„è«–æ–‡ãŒå¤šã„ã®ã¨ e ã‚³ãƒžãƒ¼ã‚¹æ¤œç´¢ã ã¨é£›ã³æŠœã‘ã¦å…ˆé€²çš„ãªå–ã‚Šçµ„ã¿ã‚’ã—ã¦ã„ã‚‹å°è±¡ã€‚

æ¬¡ã¯ [The First International Workshop on INTERACTIVE AND SCALABLE INFORMATION RETRIEVAL METHODS FOR ECOMMERCE (ISIR-ecom)](https://isir-ecom.github.io/) ã®åˆ¥ã®æŽ¡æŠžè«–æ–‡ã‚’èª­ã‚€ã€‚

ãŠãã‚‰ãæ¬¡ã«èª­ã‚€ã®ã¯

> E-commerce Product Attribute Value Validation and Correction Based on Transformers: Le Yu, Haozheng Tian, Yun Zhu, Simon Hughes and Aleksandar Velkoski
